!function(e,t){sumo.define("plugins/css",[],function(){if("undefined"==typeof window)return{load:function(e,t,r){r()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)/)||0,r=!1,i=!0;t[1]||t[7]?r=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]?i=!1:t[4]&&(r=parseInt(t[4])<18);var a={};a.pluginBuilder="./css-builder";var n,s=function(){n=document.createElement("style"),e.appendChild(n)},o=function(e,t){s();var r=n.styleSheet||n.sheet;if(r&&r.addImport)r.addImport(e),n.onload=t;else{n.textContent='@import "'+e+'";';var i=setInterval(function(){try{n.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},l=function(t,r){var a=document.createElement("link");if(a.type="text/css",a.rel="stylesheet",i)a.onload=function(){a.onload=function(){},setTimeout(r,7)};else var n=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==a.href)return clearInterval(n),r()}},10);a.href=t,e.appendChild(a)};return a.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},a.load=function(e,t,i,a){(r?o:l)(t.toUrl(e+".css"),i)},a}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i="undefined"!=typeof location&&location.href,a=i&&location.protocol&&location.protocol.replace(/\:/,""),n=i&&location.hostname,s=i&&(location.port||void 0),o=[];sumo.define("plugins/text",[],function(){var l,u,c;return"undefined"!=typeof window&&window.navigator&&window.document?u=function(e,t){var r=l.createXhr();r.open("GET",e,!0),r.onreadystatechange=function(){4===r.readyState&&t(r.responseText)},r.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=require.nodeRequire("fs"),u=function(e,t){t(c.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages&&(u=function(e,t){var r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),"utf-8")),a,n,s="";try{for(a=new java.lang.StringBuffer,(n=r.readLine())&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),a.append(n);null!==(n=r.readLine());)a.append(i),a.append(n);s=String(a.toString())}finally{r.close()}t(s)}),l={version:"1.0.2",strip:function(e){if(e){var e=e.replace(t,""),i=e.match(r);i&&(e=i[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,r,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(r=0;3>r;r++){i=e[r];try{t=new ActiveXObject(i)}catch(a){}if(t){e=[i];break}}if(!t)throw Error("createXhr(): XMLHttpRequest not available");return t},get:u,parseName:function(e){var t=!1,r=e.indexOf("."),i=e.substring(0,r),e=e.substring(r+1,e.length),r=e.indexOf("!");return-1!==r&&(t=e.substring(r+1,e.length),t="strip"===t,e=e.substring(0,r)),{moduleName:i,ext:e,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,r,i){var a=l.xdRegExp.exec(e),n;return a?(e=a[2],a=a[3],a=a.split(":"),n=a[1],a=a[0],!(e&&e!==t||a&&a!==r||(n||a)&&n!==i)):!0},finishLoad:function(e,t,r,i,a){r=t?l.strip(r):r,a.isBuild&&(o[e]=r),i(r)},load:function(e,t,r,o){if(o.isBuild&&!o.inlineText)r();else{var u=l.parseName(e),c=u.moduleName+"."+u.ext,d=t.toUrl(c),h=o&&o.text&&o.text.useXhr||l.useXhr;!i||h(d,a,n,s)?l.get(d,function(t){l.finishLoad(e,u.strip,t,r,o)}):t([c],function(e){l.finishLoad(u.moduleName+"."+u.ext,u.strip,e,r,o)})}},write:function(e,t,r){if(t in o){var i=l.jsEscape(o[t]);r.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,r,i,a){var t=l.parseName(t),n=t.moduleName+"."+t.ext,s=r.toUrl(t.moduleName+"."+t.ext)+".js";l.load(n,r,function(){var t=function(e){return i(s,e)};t.asModule=function(e,t){return i.asModule(e,s,t)},l.write(e,n,t,a)},a)}}})}(),sumo.define("punycode",function(){}),sumo.define("IPv6",function(){}),sumo.define("SecondLevelDomains",function(){}),function(r,i){"object"==typeof e?t.exports=i(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof sumo.define&&sumo.define.amd?sumo.define("URI",["./punycode","./IPv6","./SecondLevelDomains"],i):r.URI=i(r.punycode,r.IPv6,r.SecondLevelDomains,r)}(this,function(e,t,r,i){"use strict";function a(e,t){return this instanceof a?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new a(e,t)}function n(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function s(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function o(e){return"Array"===s(e)}function l(e,t){var r={},i,a;if(o(t))for(i=0,a=t.length;a>i;i++)r[t[i]]=!0;else r[t]=!0;for(i=0,a=e.length;a>i;i++)void 0!==r[e[i]]&&(e.splice(i,1),a--,i--);return e}function u(e,t){var r,i;if(o(t)){for(r=0,i=t.length;i>r;r++)if(!u(e,t[r]))return!1;return!0}var a=s(t);for(r=0,i=e.length;i>r;r++)if("RegExp"===a){if("string"==typeof e[r]&&e[r].match(t))return!0}else if(e[r]===t)return!0;return!1}function c(e,t){if(!o(e)||!o(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var r=0,i=e.length;i>r;r++)if(e[r]!==t[r])return!1;return!0}function d(e){return escape(e)}function h(e){return encodeURIComponent(e).replace(/[!'()*]/g,d).replace(/\*/g,"%2A")}var p=i&&i.URI;a.version="1.12.0";var m=a.prototype,f=Object.prototype.hasOwnProperty;a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\.-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"},a.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return a.domAttributes[t]}},a.encode=h,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=h,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},a.encodeQuery=function(e,t){var r=a.encode(e+"");return t?r.replace(/%20/g,"+"):r},a.decodeQuery=function(e,t){e+="";try{return a.decode(t?e.replace(/\+/g,"%20"):e)}catch(r){return e}},a.recodePath=function(e){for(var t=(e+"").split("/"),r=0,i=t.length;i>r;r++)t[r]=a.encodePathSegment(a.decode(t[r]));return t.join("/")},a.decodePath=function(e){for(var t=(e+"").split("/"),r=0,i=t.length;i>r;r++)t[r]=a.decodePathSegment(t[r]);return t.join("/")};var g={encode:"encode",decode:"decode"},v,_=function(e,t){return function(r){return a[t](r+"").replace(a.characters[e][t].expression,function(r){return a.characters[e][t].map[r]})}};for(v in g)a[v+"PathSegment"]=_("pathname",g[v]);a.encodeReserved=_("reserved","encode"),a.parse=function(e,t){var r;return t||(t={}),r=e.indexOf("#"),r>-1&&(t.fragment=e.substring(r+1)||null,e=e.substring(0,r)),r=e.indexOf("?"),r>-1&&(t.query=e.substring(r+1)||null,e=e.substring(0,r)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=a.parseAuthority(e,t)):(r=e.indexOf(":"),r>-1&&(t.protocol=e.substring(0,r)||null,t.protocol&&!t.protocol.match(a.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(r+3):"//"===e.substring(r+1,r+3)?(e=e.substring(r+3),e=a.parseAuthority(e,t)):(e=e.substring(r+1),t.urn=!0))),t.path=e,t},a.parseHost=function(e,t){var r=e.indexOf("/"),i,a;return-1===r&&(r=e.length),"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,r)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,r)||null,t.port=null):(a=e.substring(0,r).split(":"),t.hostname=a[0]||null,t.port=a[1]||null),t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},a.parseAuthority=function(e,t){return e=a.parseUserinfo(e,t),a.parseHost(e,t)},a.parseUserinfo=function(e,t){var r=e.indexOf("/"),i=r>-1?e.lastIndexOf("@",r):e.indexOf("@"),n;return i>-1&&(-1===r||r>i)?(n=e.substring(0,i).split(":"),t.username=n[0]?a.decode(n[0]):null,n.shift(),t.password=n[0]?a.decode(n.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null),e},a.parseQuery=function(e,t){if(!e)return{};if(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!e)return{};for(var r={},i=e.split("&"),n=i.length,s,o,l,u=0;n>u;u++)s=i[u].split("="),o=a.decodeQuery(s.shift(),t),l=s.length?a.decodeQuery(s.join("="),t):null,r[o]?("string"==typeof r[o]&&(r[o]=[r[o]]),r[o].push(l)):r[o]=l;return r},a.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=a.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},a.buildHost=function(e){var t="";return e.hostname?(a.ip6_expression.test(e.hostname)?t+=e.port?"["+e.hostname+"]:"+e.port:e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port)),t):""},a.buildAuthority=function(e){return a.buildUserinfo(e)+a.buildHost(e)},a.buildUserinfo=function(e){var t="";return e.username&&(t+=a.encode(e.username),e.password&&(t+=":"+a.encode(e.password)),t+="@"),t},a.buildQuery=function(e,t,r){var i="",n,s,l,u;for(s in e)if(f.call(e,s)&&s)if(o(e[s]))for(n={},l=0,u=e[s].length;u>l;l++)void 0!==e[s][l]&&void 0===n[e[s][l]+""]&&(i+="&"+a.buildQueryParameter(s,e[s][l],r),t!==!0&&(n[e[s][l]+""]=!0));else void 0!==e[s]&&(i+="&"+a.buildQueryParameter(s,e[s],r));return i.substring(1)},a.buildQueryParameter=function(e,t,r){return a.encodeQuery(e,r)+(null!==t?"="+a.encodeQuery(t,r):"")},a.addQuery=function(e,t,r){if("object"==typeof t)for(var i in t)f.call(t,i)&&a.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=r);"string"==typeof e[t]&&(e[t]=[e[t]]),o(r)||(r=[r]),e[t]=e[t].concat(r)}},a.removeQuery=function(e,t,r){var i,n,s;if(o(t))for(i=0,n=t.length;n>i;i++)e[t[i]]=void 0;else if("object"==typeof t)for(s in t)f.call(t,s)&&a.removeQuery(e,s,t[s]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==r?e[t]===r?e[t]=void 0:o(e[t])&&(e[t]=l(e[t],r)):e[t]=void 0}},a.hasQuery=function(e,t,r,i){if("object"==typeof t){for(var n in t)if(f.call(t,n)&&!a.hasQuery(e,n,t[n]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(s(r)){case"Undefined":return t in e;case"Boolean":var l=Boolean(o(e[t])?e[t].length:e[t]);return r===l;case"Function":return!!r(e[t],t,e);case"Array":if(!o(e[t]))return!1;var d=i?u:c;return d(e[t],r);case"RegExp":return o(e[t])?i?u(e[t],r):!1:Boolean(e[t]&&e[t].match(r));case"Number":r=String(r);case"String":return o(e[t])?i?u(e[t],r):!1:e[t]===r;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.commonPath=function(e,t){var r=Math.min(e.length,t.length),i;for(i=0;r>i;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}return 1>i?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":(("/"!==e.charAt(i)||"/"!==t.charAt(i))&&(i=e.substring(0,i).lastIndexOf("/")),e.substring(0,i+1))},a.withinString=function(e,t,r){r||(r={});var i=r.start||a.findUri.start,n=r.end||a.findUri.end,s=r.trim||a.findUri.trim,o=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var l=i.exec(e);if(!l)break;var u=l.index;if(r.ignoreHtml){var c=e.slice(Math.max(u-3,0),u);if(c&&o.test(c))continue}var d=u+e.slice(u).search(n),h=e.slice(u,d).replace(s,"");if(!r.ignore||!r.ignore.test(h)){d=u+h.length;var p=t(h,u,d,e);e=e.slice(0,u)+p+e.slice(d),i.lastIndex=u+p.length}}return i.lastIndex=0,e},a.ensureValidHostname=function(t){if(t.match(a.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(a.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}},a.noConflict=function(e){if(e){var r={URI:this.noConflict()};return URITemplate&&"function"==typeof URITemplate.noConflict&&(r.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(r.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(r.SecondLevelDomains=SecondLevelDomains.noConflict()),r}return i.URI===this&&(i.URI=p),this},m.build=function(e){return e===!0?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new a(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},g={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"},_=function(e){return function(t,r){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!r),this)}};for(v in g)m[v]=_(g[v]);g={query:"?",fragment:"#"},_=function(e,t){return function(r,i){return void 0===r?this._parts[e]||"":(null!==r&&(r+="",r.charAt(0)===t&&(r=r.substring(1))),this._parts[e]=r,this.build(!i),this)}};for(v in g)m[v]=_(v,g[v]);g={search:["?","query"],hash:["#","fragment"]},_=function(e,t){return function(r,i){var a=this[e](r,i);return"string"==typeof a&&a.length?t+a:a}};for(v in g)m[v]=_(g[v][1],g[v][0]);m.pathname=function(e,t){if(void 0===e||e===!0){var r=this._parts.path||(this._parts.hostname?"/":"");return e?a.decodePath(r):r}return this._parts.path=e?a.recodePath(e):"/",this.build(!t),this},m.path=m.pathname,m.href=function(e,t){var r;if(void 0===e)return this.toString();this._string="",this._parts=a._parts();var i=e instanceof a,n="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName){var s=a.getDomAttribute(e);e=e[s]||"",n=!1}if(!i&&n&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e)this._parts=a.parse(e,this._parts);else{if(!i&&!n)throw new TypeError("invalid input");var o=i?e._parts:e;for(r in o)f.call(this._parts,r)&&(this._parts[r]=o[r])}return this.build(!t),this},m.is=function(e){var t=!1,i=!1,n=!1,s=!1,o=!1,l=!1,u=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,i=a.ip4_expression.test(this._parts.hostname),n=a.ip6_expression.test(this._parts.hostname),t=i||n,s=!t,o=s&&r&&r.has(this._parts.hostname),l=s&&a.idn_expression.test(this._parts.hostname),u=s&&a.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return s;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return n;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return u}return null};var b=m.protocol,y=m.port,w=m.hostname;m.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(a.protocol_expression)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},m.scheme=m.protocol,m.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return y.call(this,e,t)},m.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var r={};a.parseHost(e,r),e=r.hostname}return w.call(this,e,t)},m.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?a.buildHost(this._parts):"":(a.parseHost(e,this._parts),this.build(!t),this)},m.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?a.buildAuthority(this._parts):"":(a.parseAuthority(e,this._parts),this.build(!t),this)},m.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var r=a.buildUserinfo(this._parts);return r.substring(0,r.length-1)}return"@"!==e[e.length-1]&&(e+="@"),a.parseUserinfo(e,this._parts),this.build(!t),this},m.resource=function(e,t){var r;return void 0===e?this.path()+this.search()+this.hash():(r=a.parse(e),this._parts.path=r.path,this._parts.query=r.query,this._parts.fragment=r.fragment,this.build(!t),this)},m.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,r)||""}var i=this._parts.hostname.length-this.domain().length,s=this._parts.hostname.substring(0,i),o=new RegExp("^"+n(s));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&a.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this},m.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.match(/\./g);if(r&&r.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(a.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var s=new RegExp(n(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},m.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),a=this._parts.hostname.substring(i+1);return t!==!0&&r&&r.list[a.toLowerCase()]?r.get(this._parts.hostname)||a:a}var s;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!r||!r.is(e))throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");s=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");s=new RegExp(n(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(s,e)}return this.build(!t),this},m.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var r=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,r)||(this._parts.hostname?"/":"");return e?a.decodePath(i):i}var s=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,s),l=new RegExp("^"+n(o));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=a.recodePath(e),this._parts.path=this._parts.path.replace(l,e),this.build(!t),this},m.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(r+1);return e?a.decodePathSegment(i):i}var s=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(s=!0);var o=new RegExp(n(this.filename())+"$");return e=a.recodePath(e),this._parts.path=this._parts.path.replace(o,e),s?this.normalizePath(t):this.build(!t),this},m.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||e===!0){if(!this._parts.path||"/"===this._parts.path)return"";var r=this.filename(),i=r.lastIndexOf("."),s,o;return-1===i?"":(s=r.substring(i+1),o=/^[a-z0-9%]+$/i.test(s)?s:"",e?a.decodePathSegment(o):o)}"."===e.charAt(0)&&(e=e.substring(1));var l=this.suffix(),u;if(l)u=e?new RegExp(n(l)+"$"):new RegExp(n("."+l)+"$");else{if(!e)return this;this._parts.path+="."+a.recodePath(e)}return u&&(e=a.recodePath(e),this._parts.path=this._parts.path.replace(u,e)),this.build(!t),this},m.segment=function(e,t,r){var i=this._parts.urn?":":"/",a=this.path(),n="/"===a.substring(0,1),s=a.split(i);if(void 0!==e&&"number"!=typeof e&&(r=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error("Bad segment '"+e+"', must be 0-based integer");if(n&&s.shift(),0>e&&(e=Math.max(s.length+e,0)),void 0===t)return void 0===e?s:s[e];if(null===e||void 0===s[e])if(o(t)){s=[];for(var l=0,u=t.length;u>l;l++)(t[l].length||s.length&&s[s.length-1].length)&&(s.length&&!s[s.length-1].length&&s.pop(),s.push(t[l]))}else(t||"string"==typeof t)&&(""===s[s.length-1]?s[s.length-1]=t:s.push(t));else t||"string"==typeof t&&t.length?s[e]=t:s.splice(e,1);return n&&s.unshift(""),this.path(s.join(i),r)},m.segmentCoded=function(e,t,r){var i,n,s;if("number"!=typeof e&&(r=t,t=e,e=void 0),void 0===t){if(i=this.segment(e,t,r),o(i))for(n=0,s=i.length;s>n;n++)i[n]=a.decode(i[n]);else i=void 0!==i?a.decode(i):void 0;return i}if(o(t))for(n=0,s=t.length;s>n;n++)t[n]=a.decode(t[n]);else t="string"==typeof t?a.encode(t):t;return this.segment(e,t,r)};var x=m.query;return m.query=function(e,t){if(e===!0)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,r);return this._parts.query=a.buildQuery(i||r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=a.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):x.call(this,e,t)},m.setQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"==typeof e)for(var n in e)f.call(e,n)&&(i[n]=e[n]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");i[e]=void 0!==t?t:null}return this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.addQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(i,e,void 0===t?null:t),this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.removeQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(i,e,t),this._parts.query=a.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(r=t),this.build(!r),this},m.hasQuery=function(e,t,r){var i=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(i,e,t,r)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},m.normalizeHostname=function(r){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!r)),this},m.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},m.normalizePath=function(e){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var t,r=this._parts.path,i="",n,s;for("/"!==r.charAt(0)&&(t=!0,r="/"+r),r=r.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(i=r.substring(1).match(/^(\.\.\/)+/)||"",i&&(i=i[0]));;){if(n=r.indexOf("/.."),-1===n)break;0!==n?(s=r.substring(0,n).lastIndexOf("/"),-1===s&&(s=n),r=r.substring(0,s)+r.substring(n+3)):r=r.substring(3)}return t&&this.is("relative")&&(r=i+r.substring(1)),r=a.recodePath(r),this._parts.path=r,this.build(!e),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},m.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var e=a.encode,t=a.decode;return a.encode=escape,a.decode=decodeURIComponent,this.normalize(),a.encode=e,a.decode=t,this},m.unicode=function(){var e=a.encode,t=a.decode;return a.encode=h,a.decode=unescape,this.normalize(),a.encode=e,a.decode=t,this},m.readable=function(){var t=this.clone();t.username("").password("").normalize();var r="";if(t._parts.protocol&&(r+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(r+=e.toUnicode(t._parts.hostname),t._parts.port&&(r+=":"+t._parts.port)):r+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(r+="/"),r+=t.path(!0),t._parts.query){for(var i="",n=0,s=t._parts.query.split("&"),o=s.length;o>n;n++){var l=(s[n]||"").split("=");i+="&"+a.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==l[1]&&(i+="="+a.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}r+="?"+i.substring(1)}return r+=a.decodeQuery(t.hash(),!0)},m.absoluteTo=function(e){var t=this.clone(),r=["protocol","username","password","hostname","port"],i,n,s;if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof a||(e=new a(e)),t._parts.protocol||(t._parts.protocol=e._parts.protocol),this._parts.hostname)return t;for(n=0;s=r[n];n++)t._parts[s]=e._parts[s];return t._parts.path?".."===t._parts.path.substring(-2)&&(t._parts.path+="/"):(t._parts.path=e._parts.path,t._parts.query||(t._parts.query=e._parts.query)),"/"!==t.path().charAt(0)&&(i=e.directory(),t._parts.path=(i?i+"/":"")+t._parts.path,t.normalizePath()),t.build(),t},m.relativeTo=function(e){var t=this.clone().normalize(),r,i,n,s,o;if(t._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new a(e).normalize(),r=t._parts,i=e._parts,s=t.path(),o=e.path(),"/"!==s.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(r.protocol===i.protocol&&(r.protocol=null),r.username!==i.username||r.password!==i.password)return t.build();if(null!==r.protocol||null!==r.username||null!==r.password)return t.build();if(r.hostname!==i.hostname||r.port!==i.port)return t.build();if(r.hostname=null,r.port=null,s===o)return r.path="",t.build();if(n=a.commonPath(t.path(),e.path()),!n)return t.build();var l=i.path.substring(n.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return r.path=l+r.path.substring(n.length),t.build()},m.equals=function(e){var t=this.clone(),r=new a(e),i={},n={},s={},l,u,d;if(t.normalize(),r.normalize(),t.toString()===r.toString())return!0;if(l=t.query(),u=r.query(),t.query(""),r.query(""),t.toString()!==r.toString())return!1;if(l.length!==u.length)return!1;i=a.parseQuery(l,this._parts.escapeQuerySpace),n=a.parseQuery(u,this._parts.escapeQuerySpace);for(d in i)if(f.call(i,d)){if(o(i[d])){if(!c(i[d],n[d]))return!1}else if(i[d]!==n[d])return!1;s[d]=!0}for(d in n)if(f.call(n,d)&&!s[d])return!1;return!0},m.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},m.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},a}),sumo.define("color",[],function(){var e={lightOrDark:function(e){var t,r,i,a;return e.toHex&&(e="#"+e.toHex()),e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],i=e[2],r=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,i=e>>8&255,r=255&e),a=Math.sqrt(.299*(t*t)+.587*(i*i)+.114*(r*r)),a>127.5?"light":"dark"},whiteOrBlack:function(e){return"light"==this.lightOrDark(e)?"black":"white"},shadeColor:function(e,t){e=e.toString();var r=parseInt(e.slice(1),16),i=Math.round(2.55*t),a=(r>>16)+i,n=(r>>8&255)+i,s=(255&r)+i;return"#"+(16777216+65536*(255>a?1>a?0:a:255)+256*(255>n?1>n?0:n:255)+(255>s?1>s?0:s:255)).toString(16).slice(1)},RGBColor:function(e){this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseInt(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}}],r=0;r<t.length;r++){
var i=t[r].re,a=t[r].process,n=i.exec(e);n&&(channels=a(n),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}},hexToRGBA:function(e,t){var r=new this.RGBColor(e);return r.a=t||1,r.toRGBA()}};return e}),sumo.define("plugins/text!55c989d5-855d-4538-b67b-3cdb46acd968/templates/sharer_popup.html",[],function(){return'<div class="sumome-image-sharer-popup-form">\n  <div class="sumome-form">\n    <div class="sumome-row" id="sumome-image-sharer">\n      <div class="sumome-image-sharer-preloader">\n        <img src="{{preloader}}" />\n      </div>\n    </div>\n  </div>\n</div>\n'}),function(){var r;r=function(e){var t,r;return t=!1,e(function(){var i;return i=(document.body||document.documentElement).style,t=void 0!==i.animation||void 0!==i.WebkitAnimation||void 0!==i.MozAnimation||void 0!==i.MsAnimation||void 0!==i.OAnimation,e(window).bind("resize.vex",function(e){return e&&"resize"==e.type&&e.target!=window?void 0:r.resize()}),e(window).bind("keyup.vex",function(e){return 27===e.keyCode?r.closeByEscape():void 0})}),r={globalID:1,animationEndEvent:"animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",baseClassNames:{vex:"sumome-vex",content:"sumome-vex-content",overlay:"sumome-vex-overlay",close:"sumome-vex-close",closing:"sumome-vex-closing",open:"sumome-vex-open"},defaultOptions:{content:"",showCloseButton:!0,customCloseButton:!1,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",css:{},overlayClassName:"",overlayCSS:{},contentClassName:"",contentCSS:{},closeClassName:"",openClassName:"",closeCSS:{},allowBackgroundScrolling:!1},open:function(t){return t=e.extend({},r.defaultOptions,t),t.id=r.globalID,r.globalID+=1,t.$vex=e("<div>").addClass(r.baseClassNames.vex).addClass(t.className).css(t.css).data({vex:t}),t.openClassName&&t.$vex.addClass(t.openClassName),t.allowBackgroundScrolling||r.setupHTMLClassName(t.$vex),t.$vexOverlay=e("<div>").addClass(r.baseClassNames.overlay).addClass(t.overlayClassName).css(t.overlayCSS).data({vex:t}),t.overlayClosesOnClick&&t.$vexOverlay.bind("click.vex",function(t){return t.target===this?r.close(e(this).data().vex.id):void 0}),t.$vex.append(t.$vexOverlay),t.$vexContent=e("<div>").addClass(r.baseClassNames.content).addClass(t.contentClassName).css(t.contentCSS).append(t.content).data({vex:t}),t.$vexContent.find("link").bind("load.vex",function(e){return r.resize()}),t.$vexContent.bind("resize.vex",function(e){return r.resize()}),t.$vex.append(t.$vexContent),t.customCloseButton?t.showCloseButton&&(t.$closeButton=t.$vexContent.find("."+t.closeClassName).eq(0).data({vex:t}).bind("click.vex",function(){return r.close(e(this).data().vex.id)})):t.showCloseButton&&(t.$closeButton=e("<div>").addClass(r.baseClassNames.close).addClass(t.closeClassName).css(t.closeCSS).data({vex:t}).bind("click.vex",function(){return r.close(e(this).data().vex.id)}),t.$vexContent.append(t.$closeButton)),e(t.appendLocation).append(t.$vex),t.afterOpen&&t.afterOpen(t.$vexContent,t),setTimeout(function(){return t.$vexContent.trigger("vexOpen",t)},0),t.$vexContent},getAllVexes:function(){return e("."+r.baseClassNames.vex+':not(".'+r.baseClassNames.closing+'") .'+r.baseClassNames.content)},getVexByID:function(t){return r.getAllVexes().filter(function(){return e(this).data().vex.id===t})},close:function(e){var t;if(!e){if(t=r.getAllVexes().last(),!t.length)return!1;e=t.data().vex.id}return r.closeByID(e)},closeAll:function(){var t;return t=r.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(null!=t?t.length:void 0)?(e.each(t.reverse(),function(e,t){return r.closeByID(t)}),!0):!1},closeByID:function(i){var a,n,s,o,l;return n=r.getVexByID(i),n.length?(a=n.data().vex.$vex,l=e.extend({},n.data().vex),s=function(){return l.beforeClose?l.beforeClose(n,l):void 0},o=function(){return n.trigger("vexClose",l),a.remove(),l.afterClose?l.afterClose(n,l):void 0},t?(s(),a.unbind(r.animationEndEvent).bind(r.animationEndEvent,function(){return o()}).addClass(r.baseClassNames.closing)):(s(),o()),!0):void 0},resizeByID:function(t){var i,a,n,s,o;return a=r.getVexByID(t),a.length?(i=a.data().vex.$vex,o=e.extend({},a.data().vex),a.trigger("vexResize",o),!0):void 0},resize:function(){var t,i,a;return a=r.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(null!=a?a.length:void 0)?(i=Math.max.apply(Math,a),t=r.getVexByID(i),r.resizeByID(i)):!1},closeByEscape:function(){var t,i,a;return a=r.getAllVexes().map(function(){return e(this).data().vex.id}).toArray(),(null!=a?a.length:void 0)?(i=Math.max.apply(Math,a),t=r.getVexByID(i),t.data().vex.escapeButtonCloses!==!0?!1:r.closeByID(i)):!1},setupHTMLClassName:function(t){return t.bind("vexOpen.vex",function(){return e("html").addClass(r.baseClassNames.open)}).bind("vexClose.vex",function(){return r.getAllVexes().length?void 0:e("html").removeClass(r.baseClassNames.open)})},hideLoading:function(){return e(".vex-loading-spinner").remove()},showLoading:function(){return r.hideLoading(),e("body").append('<div class="vex-loading-spinner '+r.defaultOptions.className+'"></div>')}}},"function"==typeof sumo.define&&sumo.define.amd?sumo.define("vex",["jquery"],r):"object"==typeof e?t.exports=r(require("jquery")):window.vex=r(jQuery)}.call(this),sumo.define("twitter-text",[],function(){function e(e,t){return e.replace(/#\{(\w+)\}/g,function(e,r){return t[r]||""})}function t(e,t){return t=t||"","string"!=typeof e&&(e.global&&t.indexOf("g")<0&&(t+="g"),e.ignoreCase&&t.indexOf("i")<0&&(t+="i"),e.multiline&&t.indexOf("m")<0&&(t+="m"),e=e.source),new RegExp(e.replace(/#\{(\w+)\}/g,function(e,t){var i=r.txt.regexen[t]||"";return"string"!=typeof i&&(i=i.source),i}),t)}var r={txt:{regexen:{}}};return r.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,r.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",r.txt.regexen),r.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),r.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validGTLD=t(RegExp("(?:(?:academy|accountants|active|actor|aero|agency|airforce|archi|army|arpa|asia|associates|attorney|audio|autos|axa|bar|bargains|bayern|beer|berlin|best|bid|bike|bio|biz|black|blackfriday|blue|bmw|boutique|brussels|build|builders|buzz|bzh|cab|camera|camp|cancerresearch|capetown|capital|cards|care|career|careers|cash|cat|catering|center|ceo|cheap|christmas|church|citic|claims|cleaning|clinic|clothing|club|codes|coffee|college|cologne|com|community|company|computer|condos|construction|consulting|contractors|cooking|cool|coop|country|credit|creditcard|cruises|cuisinella|dance|dating|degree|democrat|dental|dentist|desi|diamonds|digital|direct|directory|discount|dnp|domains|durban|edu|education|email|engineer|engineering|enterprises|equipment|estate|eus|events|exchange|expert|exposed|fail|farm|feedback|finance|financial|fish|fishing|fitness|flights|florist|foo|foundation|frogans|fund|furniture|futbol|gal|gallery|gift|gives|glass|global|globo|gmo|gop|gov|graphics|gratis|green|gripe|guide|guitars|guru|hamburg|haus|hiphop|hiv|holdings|holiday|homes|horse|host|house|immobilien|industries|info|ink|institute|insure|int|international|investments|jetzt|jobs|joburg|juegos|kaufen|kim|kitchen|kiwi|koeln|kred|land|lawyer|lease|lgbt|life|lighting|limited|limo|link|loans|london|lotto|luxe|luxury|maison|management|mango|market|marketing|media|meet|menu|miami|mil|mini|mobi|moda|moe|monash|mortgage|moscow|motorcycles|museum|nagoya|name|navy|net|neustar|nhk|ninja|nyc|okinawa|onl|org|organic|ovh|paris|partners|parts|photo|photography|photos|physio|pics|pictures|pink|place|plumbing|post|press|pro|productions|properties|pub|qpon|quebec|recipes|red|rehab|reise|reisen|ren|rentals|repair|report|republican|rest|reviews|rich|rio|rocks|rodeo|ruhr|ryukyu|saarland|schmidt|schule|scot|services|sexy|shiksha|shoes|singles|social|software|sohu|solar|solutions|soy|space|spiegel|supplies|supply|support|surf|surgery|suzuki|systems|tattoo|tax|technology|tel|tienda|tips|tirol|today|tokyo|tools|town|toys|trade|training|travel|university|uno|vacations|vegas|ventures|versicherung|vet|viajes|villas|vision|vlaanderen|vodka|vote|voting|voto|voyage|wang|watch|webcam|website|wed|wien|wiki|works|wtc|wtf|xxx|xyz|yachts|yokohama|zone|дети|москва|онлайн|орг|сайт|بازار|شبكة|موقع|संगठन|みんな|世界|中信|中文网|公司|公益|商城|商标|在线|我爱你|政务|机构|游戏|移动|组织机构|网址|网络|集团|삼성)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validCCTLD=t(RegExp("(?:(?:ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bl|bm|bn|bo|bq|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|мкд|мон|рф|срб|укр|қаз|الاردن|الجزائر|السعودية|المغرب|امارات|ایران|بھارت|تونس|سودان|سورية|عمان|فلسطين|قطر|مصر|مليسيا|پاکستان|भारत|বাংলা|ভারত|ਭਾਰਤ|ભારત|இந்தியா|இலங்கை|சிங்கப்பூர்|భారత్|ලංකා|ไทย|გე|中国|中國|台湾|台灣|新加坡|香港|한국)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validPunycode=t(/(?:xn--[0-9a-z]+)/),r.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),r.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),r.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/),r.txt.regexen.validPortNumber=t(/[0-9]+/),r.txt.regexen.validGeneralUrlPathChars=t(/[a-z0-9!\*';:=\+,\.\$\/%#\[\]\-_~@|&#{latinAccentChars}]/i),r.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),r.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),r.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),r.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,r.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,r.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),r.txt.extractUrlsWithIndices=function(e,t){if(t||(t={extractUrlsWithoutProtocol:!0}),!e||(t.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var i=[];r.txt.regexen.extractUrl.exec(e);){var a=RegExp.$2,n=RegExp.$3,s=RegExp.$4,o=RegExp.$5,l=RegExp.$7,u=r.txt.regexen.extractUrl.lastIndex,c=u-n.length;if(s)n.match(r.txt.regexen.validTcoUrl)&&(n=RegExp.lastMatch,u=c+n.length),i.push({url:n,indices:[c,u]});else{if(!t.extractUrlsWithoutProtocol||a.match(r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var d=null,h=0;if(o.replace(r.txt.regexen.validAsciiDomain,function(e){var t=o.indexOf(e,h);h=t+e.length,d={url:e,indices:[c+t,c+h]},(l||e.match(r.txt.regexen.validSpecialShortDomain)||!e.match(r.txt.regexen.invalidShortDomain))&&i.push(d)}),null==d)continue;l&&(d.url=n.replace(o,d.url),d.indices[1]=u)}}return i},r}),sumo.define("jquery.timer",["jquery"],function(e){"use strict";if(null===e)throw"jQuery is not defined";var t=function(t){var r={timerCallback:function(){},startCallback:function(){},pauseCallback:function(){},resumeCallback:function(){},stopCallback:function(){},finishCallback:function(){},interval:1e3,timeout:!1,useSetTimeout:!0};t.interval=parseInt(t.interval,10),t.interval=isNaN(t.interval)?r.interval:t.interval,t.timeout=parseInt(t.timeout,10),t.timeout=isNaN(t.timeout)?r.timeout:t.timeout,this._options=e.extend(r,t),this._timerFunction=this._options.useSetTimeout?"Timeout":"Interval",this._timerID=null,this._startTime=0,this._pausedInterval=-1,this._passedTime=0,this._status="stopped"};t.prototype={_activate:function(){var e=this;this._startTime=(new Date).getTime(),this._timerID=window["set"+this._timerFunction](function(){e._passedTime=(new Date).getTime()-e._startTime,e._options.timeout&&e._passedTime>=e._options.timeout?e._finish():e._options.timerCallback()},this._options.interval)},_finish:function(){window["clear"+this._timerFunction](this._timerID),this._startTime=0,this._pausedInterval=-1,this._passedTime=0,this._timerID=null,this._options.finishCallback(),this._status="finished"},start:function(){0===this._startTime&&(this._activate(),this._options.startCallback(),this._status="running")},pause:function(){0!==this._startTime&&null!==this._timerID&&(window["clear"+this._timerFunction](this._timerID),this._passedTime=(new Date).getTime()-this._startTime,this._pausedInterval=this._passedTime%this._options.interval,this._timerID=null,this._options.pauseCallback(),this._status="paused")},resume:function(e){if(e="undefined"==typeof e?!1:e,-1!==this._pausedInterval){if(e){var t=this;setTimeout(function(){t._options.timerCallback(),t._options.useSetTimeout||t._activate()},this._options.interval-this._pausedInterval)}else this._activate();this._options.resumeCallback(),this._status="running"}},stop:function(){0!==this._startTime&&null!==this._timerID&&(this._finish(),this._options.stopCallback(),this._status="stopped")},kill:function(){null!==this._timerID&&(window["clear"+this._timerFunction](this._timerID),this._startTime=0,this._pausedInterval=-1,this._timerID=null,this._status="stopped")},status:function(){return this._status}},e.timer=function(r,i,a,n){if("undefined"==typeof r)return e.timer["#LIST#"];if("string"!=typeof r||!r.match(/^[a-zA-Z][a-zA-Z_0-9]*$/))throw"Invalid timer name (it must start with a letter and cannot contain other characters than letters, numbers and underscore";if("undefined"==typeof i)return e.timer[r];if(null===i){if(e.timer[r]){e.timer[r].kill(),delete e.timer[r];var s=e.timer["#LIST#"].indexOf(r);s>-1&&e.timer["#LIST#"].splice(s,1)}return!0}if("function"!=typeof i)throw"Please provide a callback function for setTimer/setInterval function";if(a=parseInt(a,10),isNaN(a)||0>=a)throw"Please provide an interval for timer (in seconds)";return n=n||{},n.timerCallback=i,n.interval=a,e.timer[r]=new t(n),e.timer["#LIST#"].push(r),e.timer[r]},e.timer["#LIST#"]=[]}),sumo.define("jquery.naturalwidth",["jquery"],function(e){for(var t=["Width","Height"],r;r=t.pop();)!function(t,r){e.fn[t]=t in new Image?function(){return this[0][t]}:function(){var e=this[0],t,i;return"img"===e.tagName.toLowerCase()&&(t=new Image,t.src=e.src,i=t[r]),i}}("natural"+r,r.toLowerCase())}),sumo.define("jquery.drags",["jquery"],function(e){e.fn.drags=function(t){if(t=e.extend({handle:"",cursor:"move"},t),""===t.handle)var r=this;else var r=this.find(t.handle);return r.css("cursor",t.cursor).on("mousedown.drags",function(r){if(e(this).trigger("dragstart"),""===t.handle)var i=e(this).addClass("draggable");else var i=e(this).addClass("active-handle").parent().addClass("draggable");var a=i.css("z-index"),n=i.outerHeight(),s=i.outerWidth(),o=i.offset().top+n-r.pageY,l=i.offset().left+s-r.pageX;i.css("z-index",10000001).parents().on("mousemove.drags",function(t){var r=t.pageY+o-n,i=t.pageX+l-s;e(".draggable").trigger("dragmove",{top:r,left:i}),e(".draggable").offset({top:r,left:i}).on("mouseup",function(){e(this).removeClass("draggable").css("z-index",a)})}),r.preventDefault()}).on("mouseup.drags",function(){if(""===t.handle)var r=e(this).removeClass("draggable");else var r=e(this).removeClass("active-handle").parent().removeClass("draggable");r.parents().unbind("mousemove.drags"),e(this).trigger("dragend")})}}),sumo.define("jquery.resizes",["jquery"],function(e){e.fn.resizes=function(t){if(t=e.extend({handle:"",cursor:"se-resize",body:"",min_width:200,min_height:100,onResized:null},t),""===t.handle)var r=this;else var r=this.find(t.handle),i=this.find(t.body);return r.css("cursor",t.cursor).on("mousedown",function(r){if(""===t.handle)var a=e(this);else var a=e(this).parent();var n=a.css("z-index"),s=a.outerHeight(),o=a.outerWidth(),l=r.pageY,u=r.pageX,c=i.outerWidth(),d=i.outerHeight();a.css("z-index",10000001).parents().on("mousemove.jqueryResize",function(e){var r=!1;o+e.pageX-u>=t.min_width&&(r=!0,a.width(o+e.pageX-u)),s+e.pageY-l>=t.min_height&&(r=!0,a.height(s+e.pageY-l),i.height(d+e.pageY-l)),r&&(t.onResized?t.onResized():i.children().trigger("resize"))}),e(document).on("mouseup",function(){a.parents().off(".jqueryResize")}),r.preventDefault()})}}),sumo.define("jquery.ui.position",["jquery"],function(e){function t(e,t,r){return[parseInt(e[0],10)*(h.test(e[0])?t/100:1),parseInt(e[1],10)*(h.test(e[1])?r/100:1)]}function r(t,r){return parseInt(e.css(t,r),10)||0}function i(t){var r=t[0];return 9===r.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(r)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:r.preventDefault?{width:0,height:0,offset:{top:r.pageY,left:r.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var a,n=Math.max,s=Math.abs,o=Math.round,l=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+%?/,d=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==a)return a;var t,r,i=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return e("body").append(i),t=n.offsetWidth,i.css("overflow","scroll"),r=n.offsetWidth,t===r&&(r=i[0].clientWidth),i.remove(),a=t-r},getScrollInfo:function(t){var r=t.isWindow?"":t.element.css("overflow-x"),i=t.isWindow?"":t.element.css("overflow-y"),a="scroll"===r||"auto"===r&&t.width<t.element[0].scrollWidth,n="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:a?e.position.scrollbarWidth():0,height:n?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var r=e(t||window),i=e.isWindow(r[0]);return{element:r,isWindow:i,offset:r.offset()||{left:0,top:0},scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop(),width:i?r.width():r.outerWidth(),height:i?r.height():r.outerHeight()}}},e.fn.position=function(a){if(!a||!a.of)return p.apply(this,arguments);a=e.extend({},a);var h,m,f,g,v,_,b=e(a.of),y=e.position.getWithinInfo(a.within),w=e.position.getScrollInfo(y),x=(a.collision||"flip").split(" "),C={};return _=i(b),b[0].preventDefault&&(a.at="left top"),m=_.width,f=_.height,g=_.offset,v=e.extend({},g),e.each(["my","at"],function(){var e=(a[this]||"").split(" "),t,r;1===e.length&&(e=l.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=l.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",t=c.exec(e[0]),r=c.exec(e[1]),C[this]=[t?t[0]:0,r?r[0]:0],a[this]=[d.exec(e[0])[0],d.exec(e[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===a.at[0]?v.left+=m:"center"===a.at[0]&&(v.left+=m/2),"bottom"===a.at[1]?v.top+=f:"center"===a.at[1]&&(v.top+=f/2),h=t(C.at,m,f),v.left+=h[0],v.top+=h[1],this.each(function(){var i,l,u=e(this),c=u.outerWidth(),d=u.outerHeight(),p=r(this,"marginLeft"),_=r(this,"marginTop"),I=c+p+r(this,"marginRight")+w.width,k=d+_+r(this,"marginBottom")+w.height,T=e.extend({},v),S=t(C.my,u.outerWidth(),u.outerHeight());"right"===a.my[0]?T.left-=c:"center"===a.my[0]&&(T.left-=c/2),"bottom"===a.my[1]?T.top-=d:"center"===a.my[1]&&(T.top-=d/2),T.left+=S[0],T.top+=S[1],e.support.offsetFractions||(T.left=o(T.left),T.top=o(T.top)),i={marginLeft:p,marginTop:_},e.each(["left","top"],function(t,r){e.ui.position[x[t]]&&e.ui.position[x[t]][r](T,{targetWidth:m,targetHeight:f,elemWidth:c,elemHeight:d,collisionPosition:i,collisionWidth:I,collisionHeight:k,offset:[h[0]+S[0],h[1]+S[1]],my:a.my,at:a.at,within:y,elem:u})}),a.using&&(l=function(e){var t=g.left-T.left,r=t+m-c,i=g.top-T.top,o=i+f-d,l={target:{element:b,left:g.left,top:g.top,width:m,height:f},element:{element:u,left:T.left,top:T.top,width:c,height:d},horizontal:0>r?"left":t>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};c>m&&s(t+r)<m&&(l.horizontal="center"),d>f&&s(i+o)<f&&(l.vertical="middle"),n(s(t),s(r))>n(s(i),s(o))?l.important="horizontal":l.important="vertical",a.using.call(this,e,l)}),u.offset(e.extend(T,{using:l}))})},e.ui.position={fit:{left:function(e,t){var r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,s=e.left-t.collisionPosition.marginLeft,o=i-s,l=s+t.collisionWidth-a-i,u;t.collisionWidth>a?o>0&&0>=l?(u=e.left+o+t.collisionWidth-a-i,e.left+=o-u):l>0&&0>=o?e.left=i:o>l?e.left=i+a-t.collisionWidth:e.left=i:o>0?e.left+=o:l>0?e.left-=l:e.left=n(e.left-s,e.left)},top:function(e,t){var r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,a=t.within.height,s=e.top-t.collisionPosition.marginTop,o=i-s,l=s+t.collisionHeight-a-i,u;t.collisionHeight>a?o>0&&0>=l?(u=e.top+o+t.collisionHeight-a-i,e.top+=o-u):l>0&&0>=o?e.top=i:o>l?e.top=i+a-t.collisionHeight:e.top=i:o>0?e.top+=o:l>0?e.top-=l:e.top=n(e.top-s,e.top)}},flip:{left:function(e,t){var r=t.within,i=r.offset.left+r.scrollLeft,a=r.width,n=r.isWindow?r.scrollLeft:r.offset.left,o=e.left-t.collisionPosition.marginLeft,l=o-n,u=o+t.collisionWidth-a-n,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,h=-2*t.offset[0],p,m;0>l?(p=e.left+c+d+h+t.collisionWidth-a-i,(0>p||p<s(l))&&(e.left+=c+d+h)):u>0&&(m=e.left-t.collisionPosition.marginLeft+c+d+h-n,(m>0||s(m)<u)&&(e.left+=c+d+h))},top:function(e,t){var r=t.within,i=r.offset.top+r.scrollTop,a=r.height,n=r.isWindow?r.scrollTop:r.offset.top,o=e.top-t.collisionPosition.marginTop,l=o-n,u=o+t.collisionHeight-a-n,c="top"===t.my[1],d=c?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1],m,f;0>l?(f=e.top+d+h+p+t.collisionHeight-a-i,e.top+d+h+p>l&&(0>f||f<s(l))&&(e.top+=d+h+p)):u>0&&(m=e.top-t.collisionPosition.marginTop+d+h+p-n,e.top+d+h+p>u&&(m>0||s(m)<u)&&(e.top+=d+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,r,i,a,n,s=document.getElementsByTagName("body")[0],o=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in i)t.style[n]=i[n];t.appendChild(o),r=s||document.documentElement,r.insertBefore(t,r.firstChild),o.style.cssText="position: absolute; left: 10.7432222px;",a=e(o).offset().left,e.support.offsetFractions=a>10&&11>a,t.innerHTML="",r.removeChild(t)}()}),sumo.define("jquery.nearest",["jquery","jquery.drags","jquery.resizes","jquery.ui.position"],function(e){function t(t,i,a){t||(t="div");var n=e(i.container),s=n.offset()||{left:0,top:0},o=[n.width()||0,n.height()||0],l={x:[s.left,s.left+o[0]],y:[s.top,s.top+o[1]],w:[0,o[0]],h:[0,o[1]]},u,c,d;for(u in l)l.hasOwnProperty(u)&&(d=r.exec(i[u]),d&&(c=l[u],i[u]=(c[1]-c[0])*d[1]/100+c[0]));i.sameX===!1&&i.checkHoriz===!1&&(i.sameX=!i.checkHoriz),i.sameY===!1&&i.checkVert===!1&&(i.sameY=!i.checkVert);var h=n.find(t),p=[],m=!!i.furthest,f=!i.sameX,g=!i.sameY,v=!!i.onlyX,_=!!i.onlyY,b=m?0:1/0,y=parseFloat(i.x)||0,w=parseFloat(i.y)||0,x=parseFloat(y+i.w)||y,C=parseFloat(w+i.h)||w,I=parseFloat(i.tolerance)||0,k=!!e.fn.each2,T=Math.min,S=Math.max;!i.includeSelf&&a&&(h=h.not(a)),0>I&&(I=0),h[k?"each2":"each"](function(t,r){var i=k?r:e(this),a=i.offset(),n=a.left,s=a.top,o=i.outerWidth(),l=i.outerHeight(),u=n+o,c=s+l,d=S(n,y),h=T(u,x),A=S(s,w),U=T(c,C),O=h>=d,$=U>=A,z,P,L,E;(f&&g||!f&&!g&&O&&$||f&&$||g&&O||f&&v||g&&_)&&(z=O?0:d-h,P=$?0:A-U,L=v||_?v?z:P:O||$?S(z,P):Math.sqrt(z*z+P*P),E=m?L>=b-I:b+I>=L,E&&(b=m?S(b,L):T(b,L),p.push({node:this,dist:L})))});var A=p.length,U=[],O,$,z,P;if(A)for(m?(O=b-I,$=b):(O=b,$=b+I),z=0;A>z;z++)P=p[z],P.dist>=O&&P.dist<=$&&U.push(P.node);return U}var r=/^([\d.]+)%$/;e.each(["nearest","furthest","touching"],function(r,i){var a={x:0,y:0,w:0,h:0,tolerance:1,container:document,furthest:"furthest"==i,includeSelf:!1,sameX:"touching"===i,sameY:"touching"===i,onlyX:!1,onlyY:!1};e[i]=function(r,i,n){if(!r||void 0===r.x||void 0===r.y)return e([]);var s=e.extend({},a,r,n||{});return e(t(i,s))},e.fn[i]=function(r,i){if(!this.length)return this.pushStack([]);var n;if(r&&e.isPlainObject(r))return n=e.extend({},a,r,i||{}),this.pushStack(t(this,n));var s=this.offset(),o={x:s.left,y:s.top,w:this.outerWidth(),h:this.outerHeight()};return n=e.extend({},a,o,i||{}),this.pushStack(t(r,n,this))}})}),sumo.define("jquery.article",["jquery"],function(e){e.expr[":"].emptytext=e.expr.createPseudo(function(t){return function(t){return""===e.trim(e(t).text())}}),e.fn.findIncludeSelf=function(t,r){var i;return i=":has(> p + p + p)"==t?this.find("p + p + p").parent():this.find(t),e(this).is(r)?i:i.addBack(t)},e.fn.exists=function(){return 0!==this.length},e.fn.findLeaves=function(r,i){var a=e(this),n=a.findIncludeSelf(r,"body").filter(i);return n=n.filter(t),n.filter(function(){return!e(this).find(n).exists()})},e.fn.findTrunks=function(r,i){var a=e(this),n=a.findIncludeSelf(r,"body").filter(i);return n=n.filter(t),n.filter(function(){return!e(this).parents().filter(n).exists()})};var t=function(){if(this._header||(this._header=i(e(this))),this._titleText||(this._titleText=s(this)),this._header){var t=.666*e(this).outerHeight();if(t&&this._header.outerHeight()>=t)return!1}return!0},r=function(t){var r=t||e("body").find("main, [role=main]").eq(0).get(0)||"body",i=e(),a=':not("[class^=comment],[id^=comment],[class*=footer],.sidebar:not(body) *,aside *,#sidebar *,footer *,[class*=footer]:not(body, [class*=not-footer]) *,#comments *,#livefyre-comments *,[class^=fyre] *,[class^=comment],[id^=comment] *,[class*=related-post]:not(body) *,.archive-page,.aside,.hentry-metro,.hrf-entry,:emptytext,.tve-leads-lightbox article")',n=[];n.push("article"),n.push(".post"),n.push(".entry-content"),n.push(".post-content"),n.push(".post_box"),n.push(".post-item"),n.push(".blog-post-wrapper"),n.push(".type-post"),n.push("#content"),n.push(".blog_content"),"body"!=r?(n.push(".hentry"),n.push(".content")):(n.push("main .hentry"),n.push("[role=main] .hentry"),n.push("main .content"),n.push("[role=main] .content")),n.push("#post-content"),n.push("#blog-content"),n.push(".blog-post");for(var s=[":has(> p + p + p)"],o=0;o<n.length;o++)if(i=e(r).findLeaves(n[o],a),i.length>0)return i;for(var o=0;o<s.length;o++)if(i=e(r).findTrunks(s[o],a),i.length>0)return i;var i,l,u,c;return i},i=function(t){var r=null,i=[".main-title","header",".post-header",".post-title","h1","h2","h3","h4","h5","h6",".title",".headline"],a={};try{i.forEach(function(i){if(r=e(t).find(i),r.length>0)throw a})}catch(n){if(n===a)return r.eq(0);throw n}return null},a=function(t){var r=null,i=[".fyre","footer",".post-footer",".footer",".entry-footer",'[class^="comment"]:not(.post-meta-info *, [class^=comment-count], [class^=comments-link], [class^=comments-number], li)',".fb-comments","iframe[title=Disqus]","#disqus_thread"],a={};try{i.forEach(function(i){if(r=e(t).find(i),r.length>0)throw a})}catch(n){if(n===a)return r.eq(0).hasClass("fb-comments")&&r.eq(0).prev("h3 + p").length>0?r.eq(0).prev("h3 + p").prev("h3"):r.eq(0);throw n}return null},n=function(e){return i(e)},s=function(e){var t=null;return!e._title&&e._header&&(e._title=e._header),e._title&&(t=e._title.text().trim()),t},o=function(t){var r=null,i=["a[rel=bookmark]","h1 > a","h2 > a","h3 > a","header > a"],a={};try{i.forEach(function(i){if(r=e(t).find(i).filter("[href]"),r.length>0)throw a})}catch(n){if(n===a)return r.eq(0);throw n}return null};e.articles=function(t){if("__smCache"in window&&"articles"in window.__smCache)return window.__smCache.articles;var l=r(t);return l.each(function(){this._header||(this._header=i(e(this))),this._footer=a(e(this)),this._title=this._header?n(this._header):null,this._titleText||(this._titleText=s(this));var t=this._header?o(this._header):null;t?this._anchor=t:this._anchor=o(e(this)),this._anchor?this._url=this._anchor.attr("href"):this._url=null,this._url||(this._url=window.location.href)}),"__smDebug"in window&&window.__smDebug&&l.each(function(){e(this).css("background","rgba(0,0,255,.5)"),this._header&&this._header.css("background","rgba(0,255,0,.5)"),this._title&&this._title.css("background","rgba(255,0,0,.5)"),this._footer&&this._footer.css("background","rgba(255,255,0,.5)")}),"__smCache"in window||(window.__smCache={}),window.__smCache.articles=l,setTimeout(function(){"__smCache"in window&&delete window.__smCache.articles},1e4),l},e.article=function(){return e.articles().eq(0)}}),sumo.define("jquery.displayrules",["jquery","URI","jquery.article"],function(e,t){e.isCurrentUrlAllowed=function(r,i,a,n){function s(e,t,r,i){var a=[];if(e&&e.length)for(var n=0;n<e.length;n++){var s=e[n];if("object"==typeof s&&s.hasOwnProperty(t)&&s[t]==r&&(a.push(s),i))return a[0]}return i?null:a}if(r&&r.length){var o=s(r,"filter_type","article",!0),l=[];o&&(l=e.articles()),a||(a=!1);var u=function(e){for(var t=Object.keys(e),r=t.length,i=Array(r),a=0;r>a;a++)i[a]=[t[a],e[t[a]]];return i},c=function(e){var t=u(e),r=t.length;return function(e){if(null==e)return!r;e=new Object(e);for(var i=0;r>i;i++){var a=t[i],n=a[0];if(a[1]!==e[n]||!(n in e))return!1}return!0}},d=function(e){var e=e.substr(1).split("&");if(""==e)return{};for(var t={},r=0;r<e.length;++r){var i=e[r].split("=",2);if(1==i.length)t[i[0]]="";else try{t[i[0]]=decodeURIComponent(i[1].replace(/\+/g," "))}catch(a){t[i[0]]=i[1].replace(/\+/g," ")}}return t},h=function(e,t,r){if(e.has_hash&&e.hash!=t)return!1;if(e.has_query_params){var i=d(e.search),a=d(r),n=c(i);if(n(a))return!0;if(!(["containing","beginning"].indexOf(e.filter_type)>=0))return!1;for(var s=!0,o=Object.keys(i),l=0;l<o.length;l++){var u=o[l],h=i[o[l]];if(h&&h.length)if(u in a){if(0!=a[u].indexOf(h))return!1}else{if("containing"!=e.filter_type)return!1;var p=!1;if(Object.keys(a).forEach(function(e){e.lastIndexOf(u)>=0&&u==e.substring(e.lastIndexOf(u))&&0==a[e].indexOf(h)&&(p=!0)}),!p)return!1}else{if(u in a)continue;for(var m=Object.keys(a),p=!1,f=0;f<m.length;f++){var g=m[f];if(0==g.indexOf(u)){p=!0;break}}if(!p)return!1}}}return!0},p=s(r,"parsedUserAgent",!0,!0),m=window.location.toString();m&&(m=m.toLowerCase());var f=window.location.pathname.toString();f&&(f=f.toLowerCase());var g=window.location.hostname+f;g&&(g=g.toLowerCase()),"/"==f[f.length-1]&&(f=f.substring(0,f.length-1),g=g.substring(0,g.length-1)),0==g.indexOf("www.")&&(g=g.substring(4));var v=window.location.search;v&&(v=v.toLowerCase());var _=window.location.hash;_&&(_=_.toLowerCase(),"#"!=_[0]&&(_="#"+_));for(var b=d(v),y=Math.min(window.screen.availWidth||e(window).width(),e(window).width()),w=document.cookie.split(";"),x={},C=[],I=0;I<w.length;I++){
var k=w[I].substring(0,w[I].indexOf("=")).trim(),T=w[I].substring(w[I].indexOf("=")+1).trim();C.push(k),x[k]=T}var S=document.getElementsByTagName("meta"),A=document.referrer;if(A&&A.length){A=A.toLowerCase();try{var U=t(A);if(U.is("ip")){var O=U.hostname();O&&(O=O.toLowerCase())}else{var O=U.domain();O&&(O=O.toLowerCase())}var $=U.path();$&&($=$.toLowerCase());var z=U.tld();z&&(z=z.toLowerCase());var P=U.hostname()?U.hostname().toLowerCase()+$:$;"/"==$[$.length-1]&&($=$.substring(0,$.length-1),P=P.substring(0,P.length-1)),0==P.indexOf("www.")&&(P=P.substring(4));var L=U.search(),E=U.hash()}catch(N){A=!1}}else A=!1;var F=function(t){var r=!1;return e.each(t,function(e,t){var i=!1;return t.forEach(function(e){var t=!1;if(!i)if("article"==e.filter_type)1==l.length&&(t=!0);else if("smaller"==e.filter_type)(isNaN(parseFloat(e.filter_value))||y<parseFloat(e.filter_value))&&(t=!0);else if("bigger"==e.filter_type)(isNaN(parseFloat(e.filter_value))||y>=parseFloat(e.filter_value))&&(t=!0);else if("views_lt"==e.filter_type)(isNaN(e.pageviews)||n<e.pageviews)&&(t=!0);else if("views_eq"==e.filter_type)(isNaN(e.pageviews)||n==e.pageviews)&&(t=!0);else if("views_gt"==e.filter_type)(isNaN(e.pageviews)||n>e.pageviews)&&(t=!0);else if("countryis"==e.filter_type)a==e.filter_value.toLowerCase()&&(t=!0);else if("countryisnot"==e.filter_type)a&&a==e.filter_value.toLowerCase()||(t=!0);else if("c_exists"==e.filter_type)C.indexOf(e.filter_value)>=0&&(t=!0);else if("c_dne"==e.filter_type)C.indexOf(e.filter_value)<0&&(t=!0);else if("c_equals"==e.filter_type)C.indexOf(e.filter_value)>=0&&x[e.filter_value]==e.param_value&&(t=!0);else if("c_notequals"==e.filter_type)(C.indexOf(e.filter_value)<0||x[e.filter_value]!=e.param_value)&&(t=!0);else if("c_contains"==e.filter_type)C.indexOf(e.filter_value)>=0&&x[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("c_notcontains"==e.filter_type)(C.indexOf(e.filter_value)<0||x[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("mt_equals"===e.filter_type)for(var r=0;r<S.length;r++){var s=S[r].getAttribute(e.filter_value);s&&s.toLowerCase()===e.param_value&&(t=!0)}else if("mt_notequals"===e.filter_type){for(var o=!1,r=0;r<S.length;r++){var s=S[r].getAttribute(e.filter_value);s&&s.toLowerCase()===e.param_value&&(o=!0)}t=!o}else if("mt_contains"===e.filter_type)for(var r=0;r<S.length;r++){var s=S[r].getAttribute(e.filter_value);s&&-1!==s.toLowerCase().indexOf(e.param_value)&&(t=!0)}else if("mt_notcontains"===e.filter_type){for(var o=!1,r=0;r<S.length;r++){var s=S[r].getAttribute(e.filter_value);s&&-1!==s.toLowerCase().indexOf(e.param_value)&&(o=!0)}t=!o}else if("mt_beginning"===e.filter_type)for(var r=0;r<S.length;r++){var s=S[r].getAttribute(e.filter_value);s&&s.toLowerCase().substring(0,e.param_value.length)===e.param_value&&(t=!0)}else if("q_exists"==e.filter_type)b&&b.hasOwnProperty(e.filter_value.toLowerCase())&&(t=!0);else if("q_dne"==e.filter_type)b&&b.hasOwnProperty(e.filter_value)||(t=!0);else if("q_equals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value&&(t=!0);else if("q_notequals"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value]==e.param_value||(t=!0);else if("q_contains"==e.filter_type)b&&b[e.filter_value]&&b[e.filter_value].indexOf(e.param_value)>=0&&(t=!0);else if("q_notcontains"==e.filter_type)(!b||!b[e.filter_value]||b[e.filter_value].indexOf(e.param_value)<0)&&(t=!0);else if("exact"==e.filter_type){var u=h(e,_,v);u&&(e.full_url?g==e.match_url&&(t=!0):null==e.match_url&&u?t=!0:(g==e.match_url||f==e.match_url)&&(t=!0))}else if("beginning"==e.filter_type){var u=h(e,_,v);u&&(e.full_url?0==g.indexOf(e.match_url.toLowerCase())&&(t=!0):null==e.match_url&&u?t=!0:(0==g.indexOf(e.match_url.toLowerCase())||0==f.indexOf(e.match_url.toLowerCase()))&&(t=!0))}else if("containing"==e.filter_type){var u=h(e,_,v);u&&(e.full_url?g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0):null==e.match_url&&u?t=!0:g.indexOf(e.match_url.toLowerCase())>=0&&(t=!0))}else if(A&&["r_url_exact","r_domain_exact","r_url_beginning","r_domain_beginning","r_url_containing","r_domain_containing"].indexOf(e.filter_type)>=0)if("r_url_exact"==e.filter_type){var u=h(e,E,L);e.full_url?u&&P==e.match_url.toLowerCase()&&(t=!0):u&&P==e.match_url.toLowerCase()?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_exact"==e.filter_type)e.host?e.host==O&&(t=!0):e.filter_value==O&&(t=!0);else if("r_url_beginning"==e.filter_type){var u=h(e,E,L);e.full_url?u&&0==P.indexOf(e.match_url)&&(t=!0):u&&0==P.indexOf(e.match_url)?t=!0:null==e.match_url&&u&&(t=!0)}else if("r_domain_beginning"==e.filter_type)e.host&&0==O.indexOf(e.host)?t=!0:0==O.indexOf(e.filter_value)&&(t=!0);else if("r_url_containing"==e.filter_type){var u=h(e,E,L);e.full_url?u&&P.indexOf(e.match_url)>=0&&(t=!0):u&&P.indexOf(e.match_url)>=0?t=!0:null==e.match_url&&u&&(t=!0)}else"r_domain_containing"==e.filter_type&&(e.host&&O.indexOf(e.host)>=0?t=!0:O.indexOf(e.filter_value)>=0&&(t=!0));else if("ua_os"==e.filter_type&&p&&p.compareOS){var c=[e.filter_value];"winmobile"==e.filter_value?c=["windows mobile","windows phone"]:"macos"==e.filter_value?c=["mac os"]:"windesktop"==e.filter_value&&(c=["windows"]),c.indexOf(p.compareOS)>=0&&(t=!0)}else if("ua_browser"==e.filter_type&&p&&p.compareBrowser){var c=[e.filter_value];"chrome"==e.filter_value?c=["chrome","chromium"]:"ie"==e.filter_value?c=["ie","ie mobile"]:"opera"==e.filter_value?c=["opera","opera mini","opera mobile","opera tablet"]:"safari"==e.filter_value&&(c=["safari","mobile safari"]),c.indexOf(p.compareBrowser)>=0&&(t=!0)}else if("ua_exact"==e.filter_type)e.filter_value.toLowerCase()==navigator.userAgent.toLowerCase()&&(t=!0);else if("ua_beginning"==e.filter_type)0==navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())&&(t=!0);else if("ua_containing"==e.filter_type)navigator.userAgent.toLowerCase().indexOf(e.filter_value.toLowerCase())>=0&&(t=!0);else if("hash_exact"==e.filter_type){var d="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;d.toLowerCase()==_.toLowerCase()&&(t=!0)}else if("hash_beginning"==e.filter_type){var d="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;0==_.toLowerCase().indexOf(d.toLowerCase())&&(t=!0)}else if("hash_containing"==e.filter_type){var d="#"==e.filter_value[0]?e.filter_value:"#"+e.filter_value;_.toLowerCase().indexOf(d.toLowerCase())>=0&&(t=!0)}else"all"==e.filter_type&&(t=!0);t||(i=!0)}),i?void 0:(r=!0,!1)}),r},q=s(r,"rule_type","include",!1);if(q&&q.length){var D={},j=0;q.forEach(function(e){e.group_id&&e.group_id.length?D.hasOwnProperty(e.group_id)?D[e.group_id].push(e):D[e.group_id]=[e]:(D[j]=[e],j+=1)}),currentUrlIncluded=F(D)}else currentUrlIncluded=!0;if(!currentUrlIncluded)return!1;var Q=s(r,"rule_type","exclude",!1),W=!1;if(!Q||!Q.length)return!0;var R={},j=0;return Q.forEach(function(e){e.group_id&&e.group_id.length?R.hasOwnProperty(e.group_id)?R[e.group_id].push(e):R[e.group_id]=[e]:(R[j]=[e],j+=1)}),W=F(R),W?!1:!0}return!0}}),sumo.define("55c989d5-855d-4538-b67b-3cdb46acd968/sharer",["jquery","URI","color","plugins/text!55c989d5-855d-4538-b67b-3cdb46acd968/templates/sharer_popup.html","vex","twitter-text","jquery.timer","jquery.naturalwidth","jquery.nearest","jquery.article","jquery.displayrules"],function(e,t,r,i,a,n,s){e.expr[":"].invisible=e.expr.createPseudo(function(t){return function(t){if("hidden"==e(t).css("visibility")||0==e(t).css("opacity"))return!0;var r=e(t).parent();return r?r.is(":invisible"):!1}});var o=function(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},l={currentImage:null,buttonEl:null,win:null,currentImageUrl:null,currentImageData:null,useUrlShortener:!0,shortener:"sumoly",short_domain:null,useAltText:!0,twitterUsername:null,color:null,position:null,contentOnly:!1,ignoreLinks:!0,ignoreImgLinks:!1,relShareOnly:!1,ctry:!1,shortUrls:{},scope:function(){if(l.contentOnly){var t=e.articles();return t}return e(document)},load:function(){e.ajax({type:"POST",dataType:"json",xhrFields:{withCredentials:!1},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/load",data:{site_id:l.api.properties.siteId,geoLocation:l.api.properties.geoLocation,pageViews:l.api.properties.views,userAgent:navigator.userAgent},success:function(e){e.success&&(l.useAltText=e.use_alt_text,l.useUrlShortener=e.use_url_shortener,l.shortener=e.shortener,l.shortDomain=e.short_domain,l.contentOnly=e.content_only,l.ignoreLinks=e.ignore_links,l.ignoreImgLinks=e.ignore_img_links,l.relShareOnly=e.rel_share_only,l.twitterUsername=e.twitter_username,l.color=e.color,l.utm=e.utm,l.utm_source=e.utm_source,l.utm_medium=e.utm_medium,l.utm_name=e.utm_name,l.utm_custom_key=e.utm_custom_key,l.utm_custom_val=e.utm_custom_val,l.vertical=e.vertical,l.vertical_offset=parseInt(e.vertical_offset),l.vertical_offset_type=e.vertical_offset.replace(/[0-9]/g,""),l.horizontal_offset=parseInt(e.horizontal_offset),l.horizontal_offset_type=e.horizontal_offset.replace(/[0-9]/g,""),l.pro=e.pro,l.position=e.position,l.display_rules=e.display_rules,l.services=e.services,l.ctry=l.api.properties.geoLocation&&l.api.properties.geoLocation.ctry?l.api.properties.geoLocation.ctry:!1,l.views=l.api.properties.views&&l.api.properties.views?l.api.properties.views:!1,l.reflink="https://sumome.com/?src=sm-is-"+l.api.properties.siteId,l.setup())}})},cleanup:function(){var t=l.scope();t.off(".image-sharer"),e(window).off(".image-sharer")},init:function(){i=i.replace("{{preloader}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/preloader.gif"),e(window).on("scroll",l.debounce(function(){l.scroll()},1)),l.load(),l.api.on("55c989d5-855d-4538-b67b-3cdb46acd968/service/settings",function(e){l.hideSharer(),l.cleanup(),l.useAltText=e.use_alt_text,l.contentOnly=e.content_only,l.ignoreLinks=e.ignore_links,l.ignoreImgLinks=e.ignore_img_links,l.relShareOnly=e.rel_share_only,l.useUrlShortener=e.use_url_shortener,l.shortener=e.shortener,l.shortDomain=e.short_domain,l.twitterUsername=e.twitter_username,l.color=e.color,l.utm=e.utm,l.utm_source=e.utm_source,l.utm_medium=e.utm_medium,l.utm_name=e.utm_name,l.utm_custom_key=e.utm_custom_key,l.utm_custom_val=e.utm_custom_val,l.pro=e.pro,l.position!=e.position&&(l.position=e.position,l.positionSharer()),l.display_rules=e.display_rules,l.services=e.services,l.setup()})},setup:function(){l.buttonEl=e('<div class="sumome-image-sharer"></div>');var t=l.services.slice(0);if(t.forEach(e.proxy(function(t){var i=e('<a href="javascript:void(0);" class="sumome-image-sharer-'+t+'"><div></div></a>');if(l.vertical&&i.addClass("sumome-image-sharer-vertical"),l.color){var a={backgroundColor:l.color,borderColor:r.shadeColor(l.color,-5)};i.css(a).hover(e.proxy(function(){e(this).css({backgroundColor:r.shadeColor(l.color,5),borderColor:l.color})}),e.proxy(function(){e(this).css(a)}));var n={};"black"==r.whiteOrBlack(l.color)&&(n.backgroundImage='url("'+this.api.properties.baseUrl+"images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/"+t+'-black-60.png")'),i.find("div").css(n).hover(e.proxy(function(){e(this).css(n)}))}l.buttonEl.append(i)},l)),l.vertical?(l.buttonEl.css("width",40),l.buttonEl.css("height",40*l.services.length)):l.buttonEl.css("width",40*l.services.length),l.buttonEl.on("click","a.sumome-image-sharer-twitter",l.openTwitter),l.buttonEl.on("click","a.sumome-image-sharer-facebook",l.openFacebook),l.buttonEl.on("click","a.sumome-image-sharer-pinterest",l.openPinterest),l.buttonEl.on("click","a.sumome-image-sharer-tapiture",l.openTapiture),l.buttonEl.on("click","a.sumome-image-sharer-tumblr",l.openTumblr),l.buttonEl.on("click","a.sumome-image-sharer-yummly",l.openYummly),e("body").append(l.buttonEl),e.isCurrentUrlAllowed(l.display_rules,null,l.ctry,l.views)){var i=l.scope();i.on("mouseenter.image-sharer","img",l.debounce(l.mouseenter,250)),i.on("mouseleave.image-sharer","img",l.debounce(l.mouseleave,250)),e(window).on("touchstart.image-sharer",l.debounce(l.touch,200)),e(window).on("resize.image-sharer",l.throttle(l.positionSharer,150))}},debounce:function(e,t){var r;return function(){var i=this,a=arguments;clearTimeout(r),r=setTimeout(function(){r=null,e.apply(i,a)},t),r||e.apply(i,a)}},throttle:function(e,t){var r,i,a,n=null,s=0,o=function(){s=(new Date).getTime(),n=null,a=e.apply(r,i),n||(r=i=null)};return function(){var l=(new Date).getTime();s||(s=l);var u=t-(l-s);return r=this,i=arguments,0>=u||u>t?(clearTimeout(n),n=null,s=l,a=e.apply(r,i),n||(r=i=null)):n||(n=setTimeout(o,u)),a}},openFacebook:function(r){r.preventDefault(),l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"facebook-click"}),l.useAltText?l.currentImageAlt=l.currentImage.attr("alt")||e(document).find("title").text()||"":l.currentImageAlt=e(document).find("title").text()||"",l.currentImageUrl=new t(l.currentImage.attr("src")).absoluteTo(window.location.toString()).toString(),l.currentImageData=l.getImageData(l.currentImage),l.$modal=a.open({content:i,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),l.$modal.on("vexClose",function(){var t=e.timer("closeImageSharer");t&&t.kill()}),l.$modal.on("vexResize",e.proxy(function(t,r){var i=Math.max((e(window).height()-r.$vexContent.outerHeight())/2,0);r.$vex.css({"padding-top":i+"px"})},this)),l.$modal.on("vexOpen",e.proxy(function(e,t){l.$modal.resize(),l.loadFacebookMarkup()},this))},generateShare:function(t){var r=window.location.href;if(r=l.checkAndAddUTMParams(r,"facebook"),l.useUrlShortener){var i=l.shortener+":"+r;i in l.shortUrls?l.generateShareFromUrl(t,l.shortUrls[i]):e.ajax({type:"POST",dataType:"json",url:l.api.properties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:l.api.properties.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(e){e.success&&(l.shortUrls[i]=e.url,r=e.url),l.generateShareFromUrl(t,r)})}else l.generateShareFromUrl(t,r)},generateShareFromUrl:function(e,t){e=(e+" "+t).trim(),l.$modal.find("textarea").val(e),l.$modal.find(".sumome-image-sharer-link").attr("href",l.reflink),l.$modal.find(".sumome-image-sharer-fb-message").text(e)},loadFacebookMarkup:function(t){e.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/facebook/load",data:{site_id:l.api.properties.siteId},statusCode:{401:function(){t||l.loadFacebookMarkup()}},success:function(t){t=t.replace("{{sumome-icon}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),t=t.replace("{{facebook-icon}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/facebook-icon-128.png"),e("#sumome-image-sharer").html(t);var r=e("#sumome-image-sharer .sumome-connect");r.length>0?(l.goSmall(),l.$modal.find(".sumome-image-sharer-link").attr("href",l.reflink),r.click(l.authenticateFacebook)):(l.goLarge(),l.$modal.find(".sumome-image-sharer-fb-image").css("background-image","url("+l.currentImageUrl+")"),l.generateShare(l.currentImageAlt),l.$modal.find("select").change(function(){var t=e(this).find("option").filter(":selected"),r=t.text(),i=t.attr("value"),a=t.data("access-token");l.$modal.find(".sumome-image-sharer-fb-user img").attr("src","https://graph.facebook.com/v2.7/"+i+"/picture?access_token="+a),l.$modal.find(".sumome-image-sharer-fb-user a").text(r)}),l.$modal.find("textarea").on("keyup",function(){l.$modal.find(".sumome-image-sharer-fb-message").text(e(this).val())}),l.$modal.find("button").click(l.submitFacebook),l.$modal.find(".sumome-image-sharer-fb-message").focus(),l.$modal.resize())}})},checkFacebookWindowClosed:function(){l.isAuthWindowClosed()?l.loadFacebookMarkup():setTimeout(l.checkFacebookWindowClosed,500)},authenticateFacebook:function(){l.isAuthWindowClosed()?(l.win=window.open(l.api.properties.sumoUrl+"/apps/image-sharer/facebook/login","image-sharer-auth","width=640,height=400"),l.win.focus(),l.checkFacebookWindowClosed()):(l.win.location=l.api.properties.sumoUrl+"/apps/image-sharer/facebook/login",l.win.resizeTo(640,400),l.win.focus(),l.checkFacebookWindowClosed())},submitFacebook:function(){var t=l.$modal.find("textarea").val().trim(),r=l.currentImageUrl,i=l.$modal.find("option").filter(":selected"),a=i.text(),n=i.attr("value"),s=i.data("access-token");l.$modal.find("select, textarea, button").prop("disabled",!0),e.ajax({type:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/facebook/post",data:{status:t,image_url:r,image_data:l.currentImageData,targetId:n,targetToken:s},statusCode:{401:function(){l.loadFacebookMarkup()},500:function(){l.close()}},success:function(t){t.success?(l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"facebook-share"}),l.goSmall(),e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),e("#sumome-image-sharer").find("button").click(function(e){l.close()}),l.$modal.resize(),e.timer("closeImageSharer",l.close,3e3).start()):(l.goSmall(),l.showError(t.error),e("#sumome-image-sharer").find("button").click(function(e){l.close()}),l.$modal.resize())}})},openTumblr:function(r){r.preventDefault(),l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tumblr-click"}),l.useAltText?l.currentImageAlt=l.currentImage.attr("alt")||e(document).find("title").text()||"":l.currentImageAlt=e(document).find("title").text()||"",l.currentImageUrl=new t(l.currentImage.attr("src")).absoluteTo(window.location.toString()).toString(),l.currentImageData=l.getImageData(l.currentImage),l.$modal=a.open({content:i,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),l.$modal.on("vexClose",function(){var t=e.timer("closeImageSharer");t&&t.stop()}),l.$modal.on("vexResize",e.proxy(function(t,r){var i=Math.max((e(window).height()-r.$vexContent.outerHeight())/2,0);r.$vex.css({"padding-top":i+"px"})},this)),l.$modal.on("vexOpen",e.proxy(function(e,t){l.$modal.resize(),l.loadTumblrMarkup()},this))},loadTumblrMarkup:function(t){e.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/tumblr/load",data:{site_id:l.api.properties.siteId},statusCode:{401:function(){t||l.loadTumblrMarkup()}},success:function(t){t=t.replace("{{sumome-icon}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),t=t.replace("{{tumblr-icon}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/tumblr-icon-128.png"),e("#sumome-image-sharer").html(t);var r=e("#sumome-image-sharer .sumome-connect");r.length>0?(l.goSmall(),l.$modal.find(".sumome-image-sharer-link").attr("href",l.reflink),r.click(l.authenticateTumblr)):(l.goLarge(),l.$modal.find(".sumome-image-sharer-tm-image").css("background-image","url("+l.currentImageUrl+")"),l.generateTumblr(l.currentImageAlt),l.$modal.find("textarea").on("keyup",function(){l.$modal.find(".sumome-image-sharer-tm-message").text(e(this).val())}),l.$modal.find("button").click(l.submitTumblr),l.$modal.find(".sumome-image-sharer-tm-message").focus(),l.$modal.resize())}})},generateTumblr:function(t){var r=window.location.href;if(r=l.checkAndAddUTMParams(r,"tumblr"),l.useUrlShortener){var i=l.shortener+":"+r;i in l.shortUrls?l.generateShareFromUrl(t,l.shortUrls[i]):e.ajax({type:"POST",dataType:"json",url:l.api.properties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:l.api.properties.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(e){e.success&&(l.shortUrls[i]=e.url,r=e.url),t=(t+" "+r).trim(),l.$modal.find("textarea").val(t),l.$modal.find(".sumome-image-sharer-tm-message").text(t)})}else t=(t+" "+r).trim(),l.$modal.find("textarea").val(t),l.$modal.find(".sumome-image-sharer-link").attr("href",l.reflink),l.$modal.find(".sumome-image-sharer-tm-message").text(t)},checkTumblrWindowClosed:function(){l.isAuthWindowClosed()?l.loadTumblrMarkup():setTimeout(l.checkTumblrWindowClosed,500)},authenticateTumblr:function(){l.isAuthWindowClosed()?(l.win=window.open(l.api.properties.sumoUrl+"/apps/image-sharer/tumblr/login","image-sharer-auth","width=740,height=400"),l.win.focus(),l.checkTumblrWindowClosed()):(l.win.location=l.api.properties.sumoUrl+"/apps/image-sharer/tumblr/login",l.win.resizeTo(740,400),l.win.focus(),l.checkTumblrWindowClosed())},submitTumblr:function(){var t=l.$modal.find("textarea").val().trim(),r=l.currentImageUrl,i=l.$modal.find("select").val();l.$modal.find("textarea, button, select").prop("disabled",!0),e.ajax({type:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/tumblr/post",data:{status:t,image_url:r,image_data:l.currentImageData,base_hostname:i},statusCode:{401:function(){l.loadTumblrMarkup()}},success:function(t){t.success?(l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tumblr-share"}),l.goSmall(),e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),e("#sumome-image-sharer").find("button").click(function(e){l.close()}),l.$modal.resize(),e.timer("closeImageSharer",l.close,3e3).start()):(l.goSmall(),l.showError(t.error),e("#sumome-image-sharer").find("button").click(function(e){l.close()}),l.$modal.resize())}})},openTwitter:function(r){r.preventDefault(),l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"twitter-click"}),l.useAltText?l.currentImageAlt=l.currentImage.attr("alt")||e(document).find("title").text()||"":l.currentImageAlt=e(document).find("title").text()||"",l.currentImageUrl=new t(l.currentImage.attr("src")).absoluteTo(window.location.toString()).toString(),l.currentImageData=l.getImageData(l.currentImage),l.$modal=a.open({content:i,overlayClosesOnClick:!1,className:"sumome-image-sharer-popup sumome-image-sharer-popup-small",overlayClassName:"sumome-image-sharer-popup-overlay",contentClassName:"sumome-image-sharer-popup-content",closeClassName:"sumome-image-sharer-popup-close"}),l.$modal.on("vexClose",function(){var t=e.timer("closeImageSharer");t&&t.stop()}),l.$modal.on("vexResize",e.proxy(function(t,r){var i=Math.max((e(window).height()-r.$vexContent.outerHeight())/2,0);r.$vex.css({"padding-top":i+"px"})},this)),l.$modal.on("vexOpen",e.proxy(function(e,t){l.$modal.resize(),l.loadTwitterMarkup()},this))},generateTweet:function(t){var r=window.location.href;if(r=l.checkAndAddUTMParams(r,"twitter"),l.useUrlShortener){var i=l.shortener+":"+r;i in l.shortUrls?l.generateTweetFromUrl(t,l.shortUrls[i]):e.ajax({type:"POST",dataType:"json",url:l.api.properties.sumoUrl+"/apps/image-sharer/shorten",data:{site_id:l.api.properties.siteId,href:r},xhrFields:{withCredentials:!1},crossDomain:!0}).done(function(e){e.success&&(l.shortUrls[i]=e.url,r=e.url),l.generateTweetFromUrl(t,r)})}else l.generateTweetFromUrl(t,r)},generateTweetFromUrl:function(e,t){var r=("https:"==t.substr(0,6),23),i=l.twitterUsername,a=116-r;i&&("@"!=i.substr(0,1)&&(i="@"+i),a-=5+i.length),e=e.trim(),e=e.replace(/\r\n|\n|\r/g," "),e.length+1>a&&(e=e.substr(0,a-2)+"…"),e=(e+" "+t+(i?" via "+i:"")).trim(),l.$modal.find("textarea").val(e),l.$modal.find(".sumome-image-sharer-link").attr("href",l.reflink),l.$modal.find(".sumome-image-sharer-tw-message").text(e),l.updateTwitterCount()},updateTwitterCount:function(){var e=l.$modal.find("textarea").val().trim(),t=l.charactersLeft(e);l.$modal.find(".sumome-image-sharer-tw-count").html(t+" chars remaining"),0>t?l.$modal.find(".sumome-image-sharer-tw-count").css({color:"red"}):l.$modal.find(".sumome-image-sharer-tw-count").css({color:""})},loadTwitterMarkup:function(t){e.ajax({type:"POST",xhrFields:{withCredentials:!0},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/twitter/load",data:{site_id:l.api.properties.siteId},statusCode:{401:function(){t||l.loadTwitterMarkup()}},success:function(t){t=t.replace("{{sumome-icon}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/sumome-crown-128.png"),t=t.replace("{{twitter-icon}}",l.api.properties.sumoUrl+"/client/images/apps/55c989d5-855d-4538-b67b-3cdb46acd968/twitter-icon-128.png"),e("#sumome-image-sharer").html(t);var r=e("#sumome-image-sharer .sumome-connect");r.length>0?(l.goSmall(),l.$modal.find(".sumome-image-sharer-link").attr("href",l.reflink),r.click(l.authenticateTwitter)):(l.goLarge(),l.$modal.find(".sumome-image-sharer-tw-image").css("background-image","url("+l.currentImageUrl+")"),l.generateTweet(l.currentImageAlt),l.$modal.find("textarea").on("keyup",function(){l.$modal.find(".sumome-image-sharer-tw-message").text(e(this).val()),l.updateTwitterCount()}),l.$modal.find("button").click(l.submitTwitter),l.$modal.find(".sumome-image-sharer-tw-message").focus(),l.$modal.resize())}})},checkTwitterWindowClosed:function(){l.isAuthWindowClosed()?l.loadTwitterMarkup():setTimeout(l.checkTwitterWindowClosed,500)},authenticateTwitter:function(){l.isAuthWindowClosed()?(l.win=window.open(l.api.properties.sumoUrl+"/apps/image-sharer/twitter/login","image-sharer-auth","width=740,height=400"),l.win.focus(),l.checkTwitterWindowClosed()):(l.win.location=l.api.properties.sumoUrl+"/apps/image-sharer/twitter/login",l.win.resizeTo(740,400),l.win.focus(),l.checkTwitterWindowClosed())},submitTwitter:function(){var t=l.$modal.find("textarea").val().trim(),r=l.currentImageUrl;l.$modal.find("textarea, button").prop("disabled",!0);var t=l.$modal.find("textarea").val().trim(),i=l.charactersLeft(t);i>=0?e.ajax({type:"POST",dataType:"json",beforeSend:function(t){t.setRequestHeader("X-Sumo-Auth",e.cookie("__smToken"))},xhrFields:{withCredentials:!0},crossDomain:!0,url:l.api.properties.sumoUrl+"/apps/image-sharer/twitter/post",data:{status:t,image_url:r,image_data:l.currentImageData},statusCode:{401:function(){l.loadTwitterMarkup()}},success:function(t){t.success?(l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"twitter-share"}),l.goSmall(),e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Snap!</h3><h5>Your photo was shared.</h5><hr><button class="sumome-button sumome-radius sumome-expand">Okay</button></div>'),e("#sumome-image-sharer").find("button").click(function(e){l.close()}),l.$modal.resize(),e.timer("closeImageSharer",l.close,3e3).start()):(l.goSmall(),l.showError(t.error),e("#sumome-image-sharer").find("button").click(function(e){l.close()}),l.$modal.resize())}}):l.$modal.find("textarea, button").prop("disabled",!1)},openPinterest:function(r){r.preventDefault(),l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"pinterest-click"}),l.useAltText?l.currentImageAlt=l.currentImage.attr("alt")||e(document).find("title").text()||"":l.currentImageAlt=e(document).find("title").text()||"",l.currentImageUrl=new t(l.currentImage.attr("src")).absoluteTo(window.location.toString()).toString();var i=window.location.toString();i=l.checkAndAddUTMParams(i,"pinterest"),l.closeAuthWindow(),l.win=window.open(l.generatePinterestUrl(i),"image-sharer-pinterest","width=640,height=320")},generatePinterestUrl:function(t){var r={url:t,media:l.currentImageUrl,description:l.currentImageAlt};return"http://pinterest.com/pin/create/button/?"+e.param(r)},openTapiture:function(r){r.preventDefault(),l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"tapiture-click"}),l.useAltText?l.currentImageAlt=l.currentImage.attr("alt")||e(document).find("title").text()||"":l.currentImageAlt=e(document).find("title").text()||"",l.currentImageUrl=new t(l.currentImage.attr("src")).absoluteTo(window.location.toString()).toString();var i=window.location.toString();i=l.checkAndAddUTMParams(i,"tapiture"),l.closeAuthWindow(),l.win=window.open(l.generateTapitureUrl(i),"image-sharer-tapiture","width=600,height=500")},generateTapitureUrl:function(t){var r={url:l.currentImageUrl,title:l.currentImageAlt,page_url:t,type:"image"};return"http://tapiture.com/widget/tap?"+e.param(r)},openYummly:function(r){r.preventDefault(),l.api.emit("event",{appId:"55c989d5-855d-4538-b67b-3cdb46acd968",event:"yummly-click"}),l.useAltText?l.currentImageAlt=l.currentImage.attr("alt")||e(document).find("title").text()||"":l.currentImageAlt=e(document).find("title").text()||"",l.currentImageUrl=new t(l.currentImage.attr("src")).absoluteTo(window.location.toString()).toString();var i=window.location.toString();i=l.checkAndAddUTMParams(i,"yummly"),l.closeAuthWindow(),l.win=window.open(l.generateYummlyUrl(i),"image-sharer-yummly","width=600,height=500")},generateYummlyUrl:function(t){var r={url:t,title:l.currentImageAlt,image:l.currentImageUrl};return"http://www.yummly.com/urb/verify?"+e.param(r)},goSmall:function(){l.$modal.closest(".sumome-image-sharer-popup").removeClass("sumome-image-sharer-popup-large").addClass("sumome-image-sharer-popup-small"),this.resize()},goLarge:function(){l.$modal.closest(".sumome-image-sharer-popup").removeClass("sumome-image-sharer-popup-small").addClass("sumome-image-sharer-popup-large"),this.resize()},resize:function(){var e=l.$modal.closest(".sumome-image-sharer-popup"),t="small",r=e.innerWidth();t=r>=1440?"xxlarge":r>=1080?"xlarge":r>=768?"large":r>=480?"medium":"small";var i="sumome-res-"+t;e.removeClass("sumome-res-small sumome-res-medium sumome-res-large sumome-res-xlarge sumome-res-xxlarge").addClass(i)},showError:function(t){e("#sumome-image-sharer").html('<div class="sumome-12 sumome-columns sumome-text-center"><h3>Golly Gee Wilikers</h3><h5>'+t+'</h5><hr><button class="sumome-button sumome-alert sumome-radius sumome-expand">Close</button></div>')},close:function(){l.closeAuthWindow(),a.close()},openAuthWindow:function(){l.isAuthWindowClosed()&&(l.win=window.open("about:blank","image-sharer-auth","width=1,height=1"))},isAuthWindowClosed:function(){return!l.win||l.win.closed},closeAuthWindow:function(){l.isAuthWindowClosed()||(l.win.close(),l.win=null)},mouseenter:function(t){var r=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(e.isCurrentUrlAllowed(l.display_rules,null,l.ctry,l.views)){var i=e.timer("hideImageSharer");i&&i.kill(),l.currentImage=null;var a=e(t.target),n=a.naturalWidth(),s=a.naturalHeight(),r=a.width(),o=a.height();if(150>n||150>s)return void l.buttonEl.stop(!0,!0).fadeOut(500);if(a.parent().is("div[id^=grs_]"))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(".ob-widget *"))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(a.attr("rel")&&0==a.attr("rel").toLowerCase().indexOf("noshare"))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(a.attr("rel")&&0==a.attr("rel").toLowerCase().indexOf("share"));else{var u=a.parent(),c=/[^/\\]+(?:jpg|gif|png)/gi;if(l.ignoreLinks&&u&&"A"==u.get(0).tagName.toUpperCase()&&u.attr("href")&&u.attr("href")!=a.attr("src")&&null==u.attr("href").match(c))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(l.ignoreImgLinks&&u&&"A"==u.get(0).tagName.toUpperCase()&&u.attr("href")&&u.attr("href")!=a.attr("src")&&null!=u.attr("href").match(c))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(a.parents("form").length>0)return void l.buttonEl.stop(!0,!0).fadeOut(500);if(a.is(":hidden")||a.is(":invisible"))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(l.relShareOnly)return void l.buttonEl.stop(!0,!0).fadeOut(500)}l.currentImage=e(t.target),l.positionSharer(),l.isOverFixedHeader()||l.buttonEl.stop(!0,!0).fadeIn(500);
}},visibleArea:function(t){for(var r={height:t.offsetHeight,width:t.offsetWidth,isRelative:!1},i={y:t.offsetTop||0,x:t.offsetLeft||0,node:t.offsetParent},a,n,s,o,l;!e(t).is("body")&&null!==(t=t.parentNode);){try{a=window.getComputedStyle(t)}catch(u){}if(a&&"relative"==a.position&&(r.isRelative=!0),a&&"hidden"===a.overflow)return n=t.offsetHeight-Math.max(e("body").offset().top,i.y),s=t.offsetWidth-Math.max(e("body").offset().left,i.x),t!==i.node&&(n+=t.offsetTop||0,s+=t.offsetLeft||0),n<r.height&&(0>n?r.height=0:r.height=n),s<r.width&&(0>s?r.width=0:r.width=s),r;t===i.node&&(i.y=i.y+(t.offsetTop||0),i.x=i.x+(t.offsetLeft||0),i.node=t.offsetParent)}return r},positionSharer:function(){if(null!=l.currentImage&&!e(".sumome-image-sharer-popup-content").is(":visible")){var t=l.currentImage.offset(),r=l.currentImage.offsetParent().offset(),i=l.visibleArea(l.currentImage[0]),a=i.hasHiddenOverflow,n=["absolute"].indexOf(l.currentImage.css("position"))>=0;if(n){if(i.isRelative)var s=["absolute","fixed","relative"];else var s=["absolute","fixed"];var o=l.currentImage.parents().filter(function(){return!e(this).is("body,html")&&s.indexOf(e(this).css("position"))>=0});n=o&&o.length}var u=null,c=null,d=null,h=null;if(n){var p=Math.max(e("body").offset().top+(isNaN(parseFloat(e("body").css("padding-top")))?0:parseFloat(e("body").css("padding-top"))),t.top-(t.top-r.top)),m=Math.max(e("body").offset().left+(isNaN(parseFloat(e("body").css("padding-left")))?0:parseFloat(e("body").css("padding-left"))),t.left-(t.left-r.left)),u=parseFloat(isNaN(parseFloat(l.currentImage.css("padding-top")))?0:parseFloat(l.currentImage.css("padding-top")))+parseFloat(isNaN(parseFloat(l.currentImage.css("border-top")))?0:l.currentImage.css("border-top")),c=parseFloat(isNaN(parseFloat(l.currentImage.css("padding-left")))?0:parseFloat(l.currentImage.css("padding-left")))+parseFloat(isNaN(parseFloat(l.currentImage.css("border-left")))?0:l.currentImage.css("border-left"));d=t.top-p+u<0?0:t.top-p+u,h=t.left-m+c<0?0:t.left-m+c}else if("fixed"==l.currentImage.css("position"))var p=l.currentImage.position().top,m=l.currentImage.position().left;else var p=Math.max(e("body").offset().top+(isNaN(parseFloat(e("body").css("padding-top")))?0:parseFloat(e("body").css("padding-top"))),t.top),m=Math.max(e("body").offset().left+(isNaN(parseFloat(e("body").css("padding-left")))?0:parseFloat(e("body").css("padding-left"))),t.left);if(null===u)var u=parseFloat(isNaN(l.currentImage.css("padding-top"))?0:l.currentImage.css("padding-top"))+isNaN(parseFloat(l.currentImage.css("border-top")))?0:parseFloat(l.currentImage.css("border-top")),c=parseFloat(isNaN(l.currentImage.css("padding-left"))?0:l.currentImage.css("padding-left"))+isNaN(parseFloat(l.currentImage.css("border-left")))?0:parseFloat(l.currentImage.css("border-left"));var f=parseFloat(isNaN(l.currentImage.css("padding-left"))?0:l.currentImage.css("padding-bottom"))+isNaN(parseFloat(l.currentImage.css("border-bottom")))?0:parseFloat(l.currentImage.css("border-bottom")),g=parseFloat(isNaN(l.currentImage.css("padding-left"))?0:l.currentImage.css("padding-right"))+isNaN(parseFloat(l.currentImage.css("border-right")))?0:parseFloat(l.currentImage.css("border-right")),v=i.height-(null!==d?p-t.top+d:u)-f,_=i.width-(null!==h?m-t.left+h:c)-g,b=null!==d?d:u,y=null!==h?h:c,w={},x="px"==l.vertical_offset_type?l.vertical_offset:v*(l.vertical_offset/100),C="px"==l.horizontal_offset_type?l.horizontal_offset:_*(l.horizontal_offset/100),I=l.vertical?40*l.services.length:40,k=l.vertical?40:40*l.services.length;"c"!==l.position&&(x+=10,C+=10),w="tl"==l.position?{top:p+x,left:m+C}:"tr"==l.position?{top:p+x,left:m+_-k-C}:"bl"==l.position?{top:p+v-I-x,left:m+C}:"br"==l.position?{top:p+v-I-x,left:m+_-k-C}:{top:p+v/2-I/2+x,left:m+_/2-k/2+C},w.top+=b,w.left+=y,w.position="fixed"==l.currentImage.css("position")?"fixed":"absolute",l.buttonEl.css(w)}},getImageData:function(t){var r=e(t).naturalWidth(),i=e(t).naturalHeight(),a=e(t).attr("src"),n=document.createElement("canvas"),s=1280,o=800;if(a&&a.toLowerCase().indexOf(".gif")>-1)return null;if(n){var l=Math.min(s/r,o/i);1>l&&(r*=l,i*=l),n.width=r,n.height=i;var u=n.getContext("2d");if(u){u.drawImage(t.get(0),0,0,r,i);try{return n.toDataURL()}catch(c){}}}return null},charactersLeft:function(e){var t,r,i,a=e,s="https:"===location.protocol?"0123456789012345":"012345678901234",o=n.txt.extractUrlsWithIndices(e,{extractUrlsWithoutProtocol:!0}),l=117;if(i=o.length,i>0)for(var r=0;i>r;r++)t=o[r].url,a=a.replace(t,s);return l-=a.length},touch:function(t){var r=Math.min(window.screen.availWidth||e(window).width(),e(window).width());if(e.isCurrentUrlAllowed(l.display_rules,null,l.ctry,l.views)){var i=e.timer("hideImageSharer");i&&i.kill();var a=t.pageX||t.originalEvent.touches[0].pageX,n=t.pageY||t.originalEvent.touches[0].pageY,s=e.nearest({x:a,y:n},"img");if(l.currentImage=null,!s)return void l.buttonEl.stop(!0,!0).fadeOut(500);var o=s.naturalWidth(),u=s.naturalHeight(),r=s.width(),c=s.height();if(150>o||150>u)return void l.buttonEl.stop(!0,!0).fadeOut(500);if(s.attr("rel")&&0==s.attr("rel").toLowerCase().indexOf("noshare"))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(s.attr("rel")&&0==s.attr("rel").toLowerCase().indexOf("share"));else{var d=s.parent(),h=/[^/\\]+(?:jpg|gif|png)/gi;if(l.ignoreLinks&&d&&"A"==d.get(0).tagName.toUpperCase()&&d.attr("href")&&d.attr("href")!=s.attr("src")&&null==d.attr("href").match(h))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(l.ignoreImgLinks&&d&&"A"==d.get(0).tagName.toUpperCase()&&d.attr("href")&&d.attr("href")!=s.attr("src")&&null!=d.attr("href").match(h))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(s.parents("form").length>0)return void l.buttonEl.stop(!0,!0).fadeOut(500);if(s.is(":hidden")||s.is(":invisible"))return void l.buttonEl.stop(!0,!0).fadeOut(500);if(l.relShareOnly)return void l.buttonEl.stop(!0,!0).fadeOut(500)}l.currentImage=s,l.positionSharer(),l.isOverFixedHeader()||(l.buttonEl.stop(!0,!0).fadeIn(500),e.timer("hideImageSharer",l.hideSharer,5e3).start())}},mouseleave:function(t){if(null!=l.currentImage){var r=e(t.toElement||t.relatedTarget);r.hasClass(".sumome-image-sharer")||r.closest(".sumome-image-sharer").length>0||l.hideSharer()}},hideSharer:function(){var t=e.timer("hideImageSharer");t&&t.kill(),l.currentImage=null,l.buttonEl.stop(!0,!0).fadeOut(500)},scroll:function(){l.isOverFixedHeader()&&l.hideSharer()},isOverFixedHeader:function(){var t="1"===l.buttonEl.css("opacity"),r="fixed"===e("header").css("position");if(t&&r){var i=8,a={x:parseInt(l.buttonEl.css("left").replace("px",""))-e(window).scrollLeft()-i,y:parseInt(l.buttonEl.css("top").replace("px",""))-e(window).scrollTop()-i,width:l.buttonEl.width()+2*i,height:l.buttonEl.height()+2*i},n={x:e("header").position().left,y:e("header").position().top,width:e("header").width(),height:e("header").height()};return o(a,n)?!0:!1}return!1},checkAndAddUTMParams:function(e,r){if("pro"in l&&l.pro&&e&&"utm"in l&&l.utm){var i=t(e);"utm_source"in l&&l.utm_source&&(i.removeQuery("utm_source"),i.addQuery("utm_source",l.utm_source.replace("{service}",r))),"utm_medium"in l&&l.utm_medium&&(i.removeQuery("utm_medium"),i.addQuery("utm_medium",l.utm_medium.replace("{service}",r))),"utm_name"in l&&l.utm_name&&(i.removeQuery("utm_campaign"),i.addQuery("utm_campaign",l.utm_name.replace("{service}",r))),"utm_custom_key"in l&&l.utm_custom_key&&"utm_custom_val"in l&&l.utm_custom_val&&(i.removeQuery(l.utm_custom_key),i.addQuery(l.utm_custom_key,l.utm_custom_val.replace("{service}",r))),e=i.toString()}return e}};return l}),sumo.define("55c989d5-855d-4538-b67b-3cdb46acd968/service",["jquery","55c989d5-855d-4538-b67b-3cdb46acd968/sharer"],function(e,t){return function(e){var r=function(r,i){sumo.require(["plugins/css!../css/sumome-image-sharer.css"]),t.api=e,t.init(),i()},i=function(e){e()};return{init:r,destroy:i}}}),sumo.define("55c989d5-855d-4538-b67b-3cdb46acd968/service",function(){})}(void 0,void 0);