var Author_Info,BlogSearch,BlogSubscribeEvents,BlogSubscribePost,Blog_Side_toggle,Boomtrain,Comments,CommentsStatus,Featured_Homepage_View,Featured_RSS_View,Feed_Parser,HS_Blog_Nav,HS_Featured_Image,HS_RSS_Feed,HS_RSS_Feed_Modify,HS_RSS_Feed_Nav,ImageSwap,Local_Storage_Manager,ModifySidebarMeta,ResizeResponsively,Scrollway,StickEmUp,Toggle_Selector_Click,Utils,delay,hsblogdevmode,log;hsblogdevmode=!1,log=function(e){return hsblogdevmode?console.log(e):void 0},window.HSBlog||(window.HSBlog={}),delay=function(e,t){return setTimeout(t,e)},Utils={trimParams:function(e){var t;return t=e.split("?"),t.length>1?t[0]:e},getCookie:function(e){var t,i;return i="; "+document.cookie,t=i.split("; "+e+"="),2===t.length?t.pop().split(";").shift():void 0}},window.HSBlog.Local_Storage_Manager=Local_Storage_Manager=function(){function e(){}return e.prototype.set=function(e){var t,i;return i=(new Date).getTime(),t=JSON.stringify({date:i,feed:e.value}),localStorage.setItem(e.key,t)},e.prototype.checkLocalFeed=function(e){var t,i,o,s;return"function"!=typeof Storage?!1:(i=localStorage.getItem(e))?(s=(new Date).getTime(),o=JSON.parse(i),t=o.date,s-t>6e5?!1:o.feed):!1},e}(),window.HSBlog.Featured_RSS_View=Featured_RSS_View=function(){function e(e){this.featuredFeedLimit=3,this.finalFeed=e.feed,this.blogName=e.blogName,this.showAds=e.showAds,this.render()}return e.prototype.render=function(){var e,t,i,o,s,n;return i=this,_.templateSettings.variable="blog",n=$("#rss-feed__template"),o=_.template($(n).html()),t={post:i.finalFeed},$(".rss-feed__list--featured").html(o(t)),s=$("#rss-feed-mobile-featured__template"),e=_.template($(s).html()),$(".rss-feed__list--mobile-featured").html(e(t)),this.showAds&&"listing"===HSBlogConfig.type?new HSBlog.BlogAds({blogName:i.blogName}).init():void 0},e}(),window.HSBlog.Featured_Homepage_View=Featured_Homepage_View=function(){function e(e){this.renderHomeFeatured}return e.prototype.renderHomeFeatured=function(e,t,i){return e=e,t=t,i=i,$(".rss-feed__featured-placeholder").remove(),$(".rss-feed__list--marketing").find(".feedreader_box").prepend(e),$(".rss-feed__list--sales").find(".feedreader_box").prepend(t),$(".rss-feed__list--agency").find(".feedreader_box").prepend(i)},e}(),window.HSBlog.HS_RSS_Feed=HS_RSS_Feed=function(){function e(e){this.ads=e.ads||!1,this.blogName=e.blogName||null,this.page=e.page,this.singleFeed=e.singleFeed||"",this.blogName=e.blogName,this.template=e.template||"#rss-feed__template",this.type=e.type||"listing",this.dest=e.dest||"#rss-feed__list--multiple",this.dataType=e.dataType||"xml",this.xml=null,this.image=e.image||!0,this.imageBreakMax=e.imageBreakMax||"768",this.imageSelector=e.imageSelector||".blog-feed__picture",this.imageBreakLimit=e.imageBreakLimit||3,this.featuredPost=e.featuredPost||!1,this.featuredPostTemplate=e.featuredPostTemplate||null,this.featuredPostDest=e.featuredPostDest||null}return e.prototype.feedCached=!1,e.prototype.imagesLoaded=!1,e.prototype.featuredLoaded=!1,e.prototype.featured={},e.prototype.featuredPosts=[],e.prototype.mktFeed=[],e.prototype.salesFeed=[],e.prototype.agencyFeed=[],e.prototype.featuredPostsList=[],e.prototype.mktFeed=void 0,e.prototype.salesFeed=void 0,e.prototype.agencyFeed=void 0,e.prototype.mktSidebarFeatured=[],e.prototype.salesSidebarFeatured=[],e.prototype.agencySidebarFeatured=[],e.prototype.eventBindings=function(){var e;return e=this,$(window).on("resize",function(){return e.checkImageStatus()})},e.prototype.init=function(e){var t;t=this,this.eventBindings(),$(window).width()<768||this.checkLocalStorage(function(e){var i;return"cached"===e.status?"homepage"===t.page?(i=new Featured_Homepage_View,i.renderHomeFeatured(e.feed.mkt,e.feed.sales,e.feed.agency)):new Featured_RSS_View({feed:e.feed,blogName:t.blogName,showAds:!0}):t.cacheFeeds()})},e.prototype.checkLocalStorage=function(e){var t,i,o;return i=new Local_Storage_Manager,"homepage"===this.page?t=i.checkLocalFeed("FeaturedRSS-homepage"):(o="FeaturedRSS-"+this.blogName,t=i.checkLocalFeed(o)),t?e&&"function"==typeof e?e({status:"cached",feed:t}):void 0:e({status:!1})},e.prototype.cacheFeeds=function(){var e,t,i,o,s;return s=this,t=window.location.hostname,i="",i=window.HSBlogDetails.marketing.blogFeed,o=window.HSBlogDetails.sales.blogFeed,e=window.HSBlogDetails.agency.blogFeed,"sales"===this.blogName?$.ajax({url:o,dataType:this.dataType}).done(function(e){return s.salesFeed=s.parseFeed(e,"sales"),s.buildSidebar(s)}):"agency"===this.blogName?$.ajax({url:e,dataType:this.dataType}).done(function(e){return s.agencyFeed=s.parseFeed(e,"agency"),s.buildSidebar(s)}):$.when($.ajax({url:e,dataType:this.dataType}).done(function(e){return s.agencyFeed=s.parseFeed(e,"agency")}),$.ajax({url:i,dataType:this.dataType}).done(function(e){return s.mktFeed=s.parseFeed(e,"marketing")}),$.ajax({url:o,dataType:this.dataType}).done(function(e){return s.salesFeed=s.parseFeed(e,"sales")})).always(function(){return"homepage"===s.page?s.buildHomeFeatured():s.buildSidebar(s)})},e.prototype.featuredTempl=function(e){var t;return(void 0===e.picture||void 0===e.picture)&&(e.picture="//cdn2.hubspot.net/hub/53/file-1763260503-png/assets/blog.hubspot.com/images/80x80-blank.png"),t='<div class="hs-rss-item blog-feed__picture--featured" \nstyle="background-image:url('+e.picture+')">\n<a style="display: block" href="'+e.link+'" class="blog-feed__picture--featured-overlay"></a>\n    <a href="'+e.link+'" class="blog-feed__featured-link">'+e.title+"</a>\n</div>"},e.prototype.buildHomeFeatured=function(){var e,t,i,o,s,n,r,a,l;for(t=[],l=this.featuredPostsList,r=0,a=l.length;a>r;r++)n=l[r],"marketing"===n.blogName&&1===n.featuredPosition&&void 0===t.mkt&&(t.mkt=n),"agency"===n.blogName&&1===n.featuredPosition&&void 0===t.agency&&(t.agency=n),"sales"===n.blogName&&1===n.featuredPosition&&void 0===t.sales&&(t.sales=n);return o=this.featuredTempl({picture:t.mkt.picture,link:t.mkt.link,title:t.mkt.title}),s=this.featuredTempl({picture:t.sales.picture,link:t.sales.link,title:t.sales.title}),e=this.featuredTempl({picture:t.agency.picture,link:t.agency.link,title:t.agency.title}),(new Local_Storage_Manager).set({key:"FeaturedRSS-homepage",value:{mkt:o,sales:s,agency:e}}),i=new Featured_Homepage_View,i.renderHomeFeatured(o,s,e)},e.prototype.buildSidebar=function(e){var t,i;return"marketing"===this.blogName&&(t=this.mktFeed),"sales"===this.blogName&&(t=this.salesFeed),"agency"===this.blogName&&(t=this.agencyFeed),i={feedData:t,name:this.blogName},"listing"===this.type?this.buildFeed(i,function(){return new HSBlog.BlogAds({blogName:e.blogName}).init()}):this.buildFeed(i,function(){})},e.prototype.relativeDate=function(e){var t;return t=Date.parse(e),moment(t).fromNow()},e.prototype.sortFeaturedPosts=function(){return this.featuredPostsList.sort(function(e,t){var i,o;return i=new Date(e.xmlRawPubDate).getTime()/1e3,o=new Date(t.xmlRawPubDate).getTime()/1e3,e.featuredPosition-t.featuredPosition||o-i})},e.prototype.parseFeed=function(e,t){var i,o,s,n,r;return r=this,n=[],s=Utils.trimParams(document.URL),o={},i=$(".hs-rss-module .hs-rss-item"),i.each(function(e){var t;return t=$(this).find(".hs-rss-title").text(),o[e]=t}),$(e).find("item").each(function(e){var a,l,c,d,u,h,p,f,g,m,b;return l=!1,b=$(this).find("title").text()||"",p=$(this).find("link").text()||"",m=$(this).find("pubDate").text()||"",g=r.relativeDate(m)||"",u=$(this).find("description").text()||"",r.image||(u=u.replace(/<img[^>]*>/g,"")),p===s&&(l=!0),f=$(u).find("img").attr("src"),void 0===f&&(f=$(u).filter("img").attr("src")),d=$(this).find("category"),h=!1,a=encodeURI(b),void 0===f&&(f="//cdn2.hubspot.net/hub/53/file-1763260503-png/assets/blog.hubspot.com/images/80x80-blank.png"),b.length>90&&(b=b.substring(0,85)+"..."),c=!1,d.each(function(){var e,s,n,a;if(s=$(this).text(),"featured-1"===s||"featured-2"===s||"featured-3"===s){"featured-1"===s&&(e=1),"featured-2"===s&&(e=2),"featured-3"===s&&(e=3);for(n in o)a=o[n],a===b&&$(i[n]).addClass("hide-for-desktop");return h=!0,r.featuredPostsList.push({blogName:t,type:"featured-list",title:b,link:p,timestamp:g,xmlRawPubDate:m,picture:f,featured:h,featuredPosition:e}),c=!0}}),c?void 0:n.push({isCurrentUrl:l,blogName:t,title:b,link:p,timestamp:g,picture:f,featured:h,encodedTitle:a})}),n},e.prototype.checkImageStatus=function(){var e;return!this.imageShowing&&this.image&&(!this.imageBreakMax&&!this.imagesLoaded||this.winWidth()<this.imageBreakMax&&!this.imagesLoaded&&this.image)?(e=new ImageSwap({dataSrc:".rss-feed__list--sidebar-sub-list .blog-feed__picture"}).setBackgroundImage(),e=new ImageSwap({dataSrc:".rss-section-wrapper .blog-feed__picture"}).setBackgroundImage(),this.imagesLoaded=!0):void 0},e.prototype.moveArrayItem=function(e,t,i){return e.splice(i,0,e.splice(t,1)[0]),e},e.prototype.buildFeed=function(e,t){var i,o,s,n,r,a,l,c,d,u,h,p,f,g,m,b,w;if(o=e.feedData,m=e.template||"",h=e.name||"",u=this.winWidth()<768?!0:!1,this.sortFeaturedPosts(),this.feedCached||this.buildFeaturedFeed(this.featuredPostsList),"marketing"===e.blog){for(s=[],g=this.featuredPostsList,r=0,c=g.length;c>r;r++)p=g[r],"marketing"===p.blogName&&s.push(p);s=s.slice(0,1)}for(f=e.feedData,n=l=0,d=f.length;d>l;n=++l)p=f[n],p.isCurrentUrl&&this.moveArrayItem(f,n,0);return _.templateSettings.variable="blog",w=$(this.template),b=_.template($(w).html()),s?(o=o.splice(0,1),a={post:o,mobile:u,featured:s}):a={post:o,mobile:u},i=m?$(m):$(this.dest),$(i).html(b(a)),t&&"function"==typeof t?t():void 0},e.prototype.buildFeaturedFeed=function(e){var t,i,o,s,n,r,a,l,c,d,u,h,p,f,g,m,b;for(s=[],h=0,g=0,i=0,"marketing"===this.blogName&&(u=1,f=1,t=1),"sales"===this.blogName&&(u=0,f=3,t=0),"agency"===this.blogName&&(u=0,f=0,t=3),b={},a=0,c=e.length;c>a;a++)o=e[a],"marketing"===o.blogName&&u>h&&(p=o.featuredPosition,m=b["mkt-"+p],m||(b["mkt-"+p]=!0,s.push(o),h++)),"sales"===o.blogName&&f>g&&(p=o.featuredPosition,m=b["sales-"+p],m||(b["sales-"+p]=!0,s.push(o),g++)),"agency"===o.blogName&&t>i&&(p=o.featuredPosition,m=b["agency-"+p],m||(b["agency-"+p]=!0,s.push(o),i++));for(n=l=0,d=s.length;d>l;n=++l)r=s[n],"marketing"===r.blogName&&this.moveArrayItem(s,n,0);return(new Local_Storage_Manager).set({key:"FeaturedRSS-"+this.blogName,value:s}),new Featured_RSS_View({feed:s,showAds:!1})},e.prototype.winWidth=function(){return $(window).width()},e.prototype.compareDates=function(e,t){var i,o;return i=new Date(e.timestamp),o=new Date(t.timestamp),o>i?1:i>o?-1:0},$("body").on("click",".no-click",function(){return!1}),e}(),window.HSBlog.HS_RSS_Feed_Modify=HS_RSS_Feed_Modify=function(){function e(e){this.type=e.type}return e.prototype.relativeDate=function(e){var t,i,o,s,n;return o=new Date(e).getTime(),s=e.split("/"),i=s[0]+"/"+s[1]+"/20"+s[2],n=Date.parse(i),t=moment(n).fromNow()},e.prototype.encodeHtml=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.prototype.checkProtocol=function(e){var t;return t=e.split("//")[0].trim(),"http:"===t||"https:"===t?e:e="http:"+e},e.prototype.generateSocialShareLinks=function(e){var t,i,o;return i=e.link,i=this.checkProtocol(i),t=this.encodeHtml(e.title),o='<div class="blog-feed-sharing"><img class="blog-feed__share-icon" src="//cdn2.hubspot.net/hub/53/file-1762050270-png/assets/blog.hubspot.com/images/social-share-gray.png"><span class=\'blog-feed__social-networks\'><a class=\'blog-feed__social-networks-link blog-feed__social-networks-link--share no-click\' href="#"><img src=\'//cdn2.hubspot.net/hub/53/file-1762050270-png/assets/blog.hubspot.com/images/social-share-gray.png\'></a><a class=\'blog-feed__social-networks-link\' href="https://twitter.com/intent/tweet?url='+i+"&text="+t+' @hubspot"><img src="//cdn2.hubspot.net/hub/53/file-1758307239-png/assets/blog.hubspot.com/images/social-twitter.png?t=1413560496927"></a><a class=\'blog-feed__social-networks-link no-click\' href="#" onclick="javascript:window.open(\'http://www.facebook.com/sharer.php?u='+i+"','popup','width=657,height=400');\"><img src=\"//cdn2.hubspot.net/hub/53/file-1758307234-png/assets/blog.hubspot.com/images/social-facebook.png?t=1413560496927\"></a><a class='blog-feed__social-networks-link no-click' href=\"#\" onclick=\"javascript:window.open('http://www.linkedin.com/shareArticle?mini=true&url="+i+"&title="+t+"','popup','width=600,height=600');\"><img src=\"//cdn2.hubspot.net/hub/53/file-1762050265-png/assets/blog.hubspot.com/images/social-linkedin.png?t=1413560496927\"></a></span></div>"},e.prototype.modifyFeed=function(){var e,t;return t=this,e=$(".rss-feed__featured-placeholder")[0],$(".hs-rss-item").each(function(e){var i,o,s,n,r,a,l,c,d,u,h,p,f,g,m;return i=$(this),o=i.find(".hs-rss-date"),m=i.find(".hs-rss-title span").text(),s=i.find(".hs-rss-featured-image"),f=s.attr("src"),n=i.find(".blog-feed__timestamp"),d=i.find(".hs-rss-title").attr("href"),h=t.relativeDate(o.html()),u=HSBlogConfig.blogName,$(window).width()<768&&0===e?(log("the featured:"),g='<div class="hs-rss-item blog-feed__picture--featured visible-phone" \nstyle="background-image:url('+f+')">\n<a style="display: block" href="'+d+'" class="blog-feed__picture--featured-overlay"></a>\n    <a href="'+d+'" class="blog-feed__featured-link">'+m+"</a>\n</div>",$("#rss-feed__featured--mobile").html(g),$(".rss-feed__featured-placeholder").remove(),void $($(".rss-feed__list--marketing .hs-rss-item")[0]).remove()):(c='<span class="blog-feed__timestamp-blogname blog-feed__timestamp-blogname--'+u+'">'+u+"</span>",void 0===f&&(f="//cdn2.hubspot.net/hub/53/file-1763260503-png/assets/blog.hubspot.com/images/80x80-blank.png"),l='<a class="blog-feed__picture" href="'+d+'" style="background-image: url('+f+');"></a>',r="","sidebar"===t.type&&(r="/"),a="<p class='blog-feed__timestamp blog-feed__meta-info'>"+r+" "+h+"</p>",p=t.generateSocialShareLinks({link:d,title:m}),i.prepend(a+p+l),"sidebar"===t.type&&i.prepend("<span class='blog-feed__timestamp-blogname blog-feed__timestamp-blogname--"+HSBlogConfig.blogName+"'>"+HSBlogConfig.blogName+" </span>"),s.remove(),o.remove(),$(".hs-rss-item-text").css("opacity","1"))})},e.prototype.addMktTitle=function(){var e,t;if(!($(window).width()>767))return t='<h2 class="rss-feed__title rss-feed__title--mkt rss-feed__title--mkt-mobile visible-phone"><a href="'+window.HSBlogDetails.marketing.blogUrl+'">Marketing</a></h2>',e=$(".rss-feed__list--marketing").find(".hs-rss-item.hs-with-featured-image").first(),e.before(t)},e.prototype.init=function(){return this.modifyFeed(),"homepage"===this.type?this.addMktTitle():void 0},e}(),window.HSBlog.ModifySidebarMeta=ModifySidebarMeta=function(){function e(){this.init()}return e.prototype.init=function(){var e;return e=Utils.trimParams(document.URL),$(".hs-rss-module .hs-rss-item").each(function(){var t,i,o;t=$(this).find(".hs-rss-title"),i=t.attr("href"),o=i.split("//")[0].trim(),i="http:"===o||"https:"===o?i:"http:"+i,i===e&&(t.removeAttr("href"),$(this).addClass("active-url"),$(this).clone().prependTo(".hs-rss-module"),$(this).remove())})},e}(),window.HSBlog.Toggle_Selector_Click=Toggle_Selector_Click=function(){function e(e){this.selector=e.selector,this.destination=e.destination,this["class"]=e.toggleClass||"active"}return e.prototype.init=function(){var e;return e=this,$(this.selector).on("click",function(){return $(e.destination).toggleClass(e["class"])})},e}(),window.HSBlog.HS_RSS_Feed_Nav=HS_RSS_Feed_Nav=function(){function e(){}return e.prototype.blogLinks={marketing:window.HSBlogDetails.marketing.blogUrl,sales:window.HSBlogDetails.sales.blogUrl,agency:window.HSBlogDetails.agency.blogUrl},e.prototype.isNavActive=!1,e.prototype.setTitleLink=function(){var e,t,i;return e=$(".rss-nav__title"),t=e.text(),"Marketing"===t&&(i=this.blogLinks.marketing),"Sales"===t&&(i=this.blogLinks.sales),"Agency"===t&&(i=this.blogLinks.agency),e.attr("href",i)},e.prototype.showNav=function(){return $(".rss-nav__blogs-dropdown").addClass("active"),$(".rss-nav__title-arrow").addClass("rotate-180"),this.isNavActive=!0},e.prototype.hideNav=function(){return $(".rss-nav__blogs-dropdown").removeClass("active"),$(".rss-nav__title-arrow").removeClass("rotate-180"),this.isNavActive=!1},e.prototype.toggleNav=function(){return this.isNavActive?this.hideNav():this.showNav()},e.prototype.events=function(){var e;return e=this,$("body").on("click",function(t){if($(t.target).hasClass("rss-nav__toggle-btn")||$(t.target).hasClass("rss-nav__title-arrow"))return e.isNavActive?e.hideNav():e.showNav();if($(t.target).hasClass("rss-nav__blogs-dropdown-item-link"));else if(e.isNavActive)return e.hideNav()})},e.prototype.init=function(){return this.events(),this.setTitleLink()},e}(),window.HSBlog.HS_Featured_Image=HS_Featured_Image=function(){function e(e){this.el=e.el,this.imageClass=e.imageClass}return e.prototype.init=function(){return $(this.el).find("img:first").attr({style:""}).removeAttr("width").removeAttr("height").addClass(this.imageClass),$(this.el).find("img:first").show().css("opacity",1)},e}(),window.HSBlog.Feed_Parser=Feed_Parser=function(){function e(e){this.feed=e.feed,this.blogLink=e.blogLink,this.images=e.images}var t;return t=function(e){var t,i,o,s;return i=e.indexOf("("),o=e.indexOf(")"),t=e.substring(i+1,o),s=t.toLowerCase().replace(" ","-"),{name:t,linkName:s}},e.prototype.parse=function(){var e,i,o,s;return s=this,o=[],i=!1,e=Utils.trimParams(document.URL),$(this.feed).find("item").each(function(){var n,r,a,l,c,d,u;return u=$(this).find("title").text(),c=$(this).find("link").text(),d=$(this).find("pubDate").text(),l=$(this).find("description").text(),c===e?void(i=!0):(s.images||(l=l.replace(/<img[^>]*>/g,"")),a=$(this).find("author").text(),r=t(a).name,n=s.blogLink+t(a).linkName,l=l.slice(0,-4),o.push({title:u,link:c,isCurrentUrl:i,timestamp:d,author:r,linkName:n,description:l}))}),o},e}(),window.HSBlog.Author_Info=Author_Info=function(){function e(){}return e.prototype.twitterLink=".hubspot-author__twitter-handle",e.prototype.addHandle=function(e){var t;return $(this.twitterLink).text(e),t="hubspot @"+e,$(".twitter-share-button").attr("data-via",t)},e.prototype.mobileHandle=function(e){var t,i,o;return i=$(".twitter-share-mobile").attr("href"),t=$(".post-header__title--featured").text().trim(),o=i+"%20@"+e+"&text="+t,$(".twitter-share-mobile").attr("href",o)},e.prototype.getHref=function(){var e;return e=this.twitterLink,$(e).attr("href")},e.prototype.trimHandle=function(e){var t,i,o,s,n;return e=e.trim(),i=e.substr(e.length-1),s=e.split("/"),o=s[s.length-1],"/"===i&&(n=e.substr(0,e.length-1),s=n.split("/"),o=s[s.length-1]),o.indexOf("#")>=0&&(t=o.split("#"),o=t[0]),o},e.prototype.getHandle=function(){var e,t;return"post"!==HSBlogConfig.type?!1:$(this.twitterLink).length<1?!1:(t=this.getHref(),e=this.trimHandle(t),this.addHandle(e),this.mobileHandle(e))},e}(),window.HSBlog.BlogSearch=BlogSearch=function(){function e(e){this.trigger=e.trigger}return e.prototype.searchInput=".search-modal__input",e.prototype.searchModal=".search-modal",e.prototype.isModalActive=!1,e.prototype.searchInputFocus=function(){return $(this.searchInput).focus()},e.prototype.startSearch=function(e){var t;return t=$(this.searchInput).val(),window.location="/blog-search?q="+t},e.prototype.showSearchModal=function(e){return e&&e.preventDefault(),this.isModalActive=!0,$(this.searchModal).addClass("active"),$(this.searchInput).focus()},e.prototype.hideSearchModal=function(e){return e&&e.preventDefault(),this.isModalActive=!1,$(this.searchModal).removeClass("active")},e.prototype.showTip=function(e){return""!==$(this.searchInput).val()?($(".search-modal__tip.tip-1").hide(),$(".search-modal__tip.tip-2").show()):void 0},e.prototype.checkKeyClick=function(e){return this.isModalActive&&27===e.keyCode&&$(this.searchModal).hasClass("active")?this.hideSearchModal():void 0},e.prototype.init=function(){var e;return e=this,$(this.trigger).on("click",function(t){return e.showSearchModal(t)}),$(".search-modal").on("click",function(){return e.searchInputFocus()}),$(".search-modal__close").on("click",function(t){return e.hideSearchModal(t)}),$(document).on("keyup",function(t){return e.checkKeyClick(t)}),$(this.searchInput).on("keyup",function(t){return 13===t.keyCode?e.startSearch():void 0}),$(this.searchInput).on("keyup",function(t){return e.showTip(t)})},e}(),window.HSBlog.BlogSubscribeEvents=BlogSubscribeEvents=function(){function e(e){this.el=e.el||!1}return e.prototype.isDropdownActive=!1,e.prototype.toggleSubscribeDropdown=function(){return this.isDropdownActive?(this.hideSubscribe(),!1):this.isDropdownActive?void 0:(this.showSubscribe(),!1)},e.prototype.showSubscribe=function(){return $(this.el).find(".header-tools__subscribe-dropdown").addClass("open"),$(this.el).find(".header-tools__subscribe").toggleClass("active"),this.isDropdownActive=!0},e.prototype.hideSubscribe=function(){return $(this.el).find(".header-tools__subscribe-dropdown").removeClass("open"),$(this.el).find(".header-tools__subscribe").toggleClass("active"),this.isDropdownActive=!1},e.prototype.forms={mkt:{id:"db544f07-54af-45e1-a547-19da19d520e4",name:"blog_default_blog_subscription"},sales:{id:"6a6b1e80-d652-41f0-8469-e122bf0c7e7f",name:"blog_hubspots_inbound_sales_blog_subscription"},agency:{id:"d2117063-600b-4518-834d-13af044d7cb3",name:"blog_inbound_hub_the_agency_post_subscription"}},e.prototype.notify=function(e,t){var i,o;return e.find(".rss-feed__msg").hide(),i=e.find(".rss-feed__msg--invalid-email"),o=e.find(".rss-feed__msg--good-send"),"invalidEmail"===t&&i.show(),"goodSend"===t?o.show():void 0},e.prototype.blogSingleSubscribePrep=function(e){var t,i,o,s,n,r;return o=e.email,s=e.serialized,i=e.blog,this.validateEmail(o)?("marketing"===i&&(n=new BlogSubscribePost("53",this.forms.mkt,s)),"sales"===i&&(r=new BlogSubscribePost("53",this.forms.sales,s)),"agency"===i&&(t=new BlogSubscribePost("53",this.forms.agency,s)),this.notify(e.container,"goodSend"),e.container.find(".rss-feed__subscribe-submit").hide(),e.container.find(".rss-feed__subscribe").hide()):(log("bad email"),this.notify(e.container,"invalidEmail"),!1)},e.prototype.blogSingleSubscribeKey=function(e){var t,i,o,s;return i=$(e).closest(".rss-feed__subscribe-container"),t=$(e).data("type"),o=$(e).val(),s=$(e).serialize(),this.blogSingleSubscribePrep({blog:t,email:o,serialized:s,container:i})},e.prototype.blogSingleSubscribeBtn=function(e){var t,i,o,s,n,r;return i=$(e).closest(".rss-feed__subscribe-container"),s=i.find(".rss-feed__subscribe"),r=i.find(".rss-feed__subscribe-submit"),t=s.data("type"),o=s.val(),n=s.serialize(),this.blogSingleSubscribePrep({blog:t,email:o,serialized:n,container:i})},e.prototype.validateEmail=function(e){var t;return t=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,t.test(e)?!0:!1},e.prototype.blogMultipleSubscribe=function(e){var t,i,o,s,n,r,a;return $(this.el).find(".subscribe-dropdown__messages").removeClass("active"),n=$(this.el).find(".subscribe-marketing").is(":checked"),r=$(this.el).find(".subscribe-sales").is(":checked"),t=$(this.el).find(".subscribe-agency").is(":checked"),s=$(this.el).find(".subscribe-dropdown__email-input").val(),e.validateEmail(s)?(i=$(this.el).find(".subscribe-dropdown__email-input"),o=i.val(),a=i.serialize(),n||r||t?(n&&new BlogSubscribePost("53",this.forms.mkt,a),r&&new BlogSubscribePost("53",this.forms.sales,a),t&&new BlogSubscribePost("53",this.forms.agency,a),$(this.el).find(".subscribe-dropdown__blog-input").attr("checked",!1),$(this.el).find(".subscribe-dropdown__email-input").val(""),$(this.el).find(".subscribe-dropdown__messages").removeClass("active"),$(this.el).find(".subscribe-dropdown__messages--thanks").addClass("active"),Boomtrain.newUserIdentification(o,n,r,t)):($(this.el).find(".subscribe-dropdown__messages--no-selection").addClass("active"),!1)):($(this.el).find(".subscribe-dropdown__messages--invalid-email").addClass("active"),!1)},e.prototype.dropdownEvents=function(){var e;return e=this,$(this.el+".header-tools__subscribe-dropdown-container").on("click",function(){return e.toggleSubscribeDropdown()}),$(this.el+" .header-tools__subscribe-dropdown").on("click",function(e){return e.stopPropagation()}),$("body").on("click",function(){return e.isDropdownActive?e.hideSubscribe():void 0}),$(this.el+" .subscribe-dropdown__submit-btn").on("click",function(t){return t.preventDefault(),e.blogMultipleSubscribe(e)}),$(this.el+" .subscribe-dropdown__email-input").on("keyup",function(t){return 13===t.keyCode?e.blogMultipleSubscribe(e):void 0})},e.prototype.singleTextEvents=function(){var e;return e=this,$(".rss-feed__subscribe-submit").on("click",function(t){return e.blogSingleSubscribeBtn(this),t.preventDefault()}),$(".rss-feed__subscribe").on("keyup",function(t){return 13===t.keyCode?e.blogSingleSubscribeKey(this):void 0})},e.prototype.events=function(){return this.el?this.dropdownEvents():this.singleTextEvents()},e.prototype.init=function(){return this.events()},e}(),Boomtrain={getUtk:function(){return Utils.getCookie("hubspotutk")},fetchUserDetails:function(e){return $.get("//hs-wt-api.herokuapp.com/contact/"+e)},newUserIdentification:function(e,t,i,o){var s,n,r;return console.log("email: ",e),r=this.getUtk(),s={newsletter_marketing:t.toString(),newsletter_sales:i.toString(),newsletter_agency:o.toString(),daily:"true",weekly:"false"},r&&(n=this.fetchUserDetails(r).then(function(t){var i,o;return n=t.properties,e=n.email.value,i=n.firstname.value,o=n.lastname.value,s.first_name=i,s.last_name=o})),console.log("submitting bt object: ",s),_bt.trackAccountSignup(e,s)},submitLeadInForm:function(e,t){var i,o,s;return console.log("hsmf email: ",e),console.log("path: ",t),o="false",s="false",i="false",t.toLowerCase().indexOf("agency")>-1?i="true":t.indexOf("marketing")>-1?o="true":t.indexOf("sales")>-1&&(s="true"),Boomtrain.newUserIdentification(e,o,s,i)},listenForLeadInSubmission:function(){return $(document.body).delegate(".leadin-form-wrapper","submit",function(e){var t;return t=$(e.target).find('input[type="email"]').val(),Boomtrain.submitLeadInForm(t,document.location.pathname)})}},BlogSubscribePost=function(){function e(e,t,i){this.Portal_ID=e,this.HubSpot_Form_Object=t,this.email=i,this.init()}return e.prototype.init=function(){return this.subscribe()},e.prototype.subscribe=function(){var e,t,i,o,s;return i={portalId:this.Portal_ID,formId:this.HubSpot_Form_ID},e=this.email+"&lifecyclestage=subscriber&"+this.HubSpot_Form_Object.name+"=daily",o="&hs_context="+JSON.stringify(i),s=e+o,t="https://forms.hubspot.com/uploads/form/v2/"+this.Portal_ID+"/"+this.HubSpot_Form_Object.id,$.ajax({type:"POST",url:t,data:s}).always(function(){})},e}(),$(".slide-to").on("click",function(e){var t,i,o;t=$(this).data("slide-to__destination"),o=$(this).data("slide-to__speed")||1200,i=$(this).data("slide-to__offset")||0,$("html, body").stop().animate({scrollTop:$(t).offset().top-i},o,function(){})}),window.HSBlog.HS_Blog_Nav=HS_Blog_Nav=function(){function e(){}return e.prototype.updateList=function(){var e;return e=$(".rss-nav__title").text().trim(),$(".rss-nav__blogs-dropdown-item-link").each(function(){return e===$(this).attr("data-blogname")?$(this).closest(".rss-nav__blogs-dropdown-item").remove():void 0})},e}(),window.HSBlog.Blog_Side_toggle=Blog_Side_toggle=function(){function e(e){this.blogs=e.blogs,this.templ="#side-toggle__template"}return e.prototype.leftBtn=".side-toggle-btn--left",e.prototype.rightBtn=".side-toggle-btn--right",e.prototype.blogInfo={marketing:{name:"Marketing","class":"side-toggle-btn--marketing",link:window.HSBlogDetails.marketing.blogUrl},sales:{name:"Sales","class":"side-toggle-btn--sales",link:window.HSBlogDetails.sales.blogUrl},agency:{name:"Agency","class":"side-toggle-btn--agency",link:window.HSBlogDetails.agency.blogUrl}},e.prototype.setBlogs=function(){var e,t,i,o,s,n;o=this.blogs[0],n=this.blogs[1],t={},s=this.blogInfo;for(i in s)e=s[i],i===o&&(t.leftName=e.name,t.leftLink=e.link,t.leftClass=e["class"]),i===n&&(t.rightName=e.name,t.rightLink=e.link,t.rightClass=e["class"]);return t},e.prototype.build=function(){return $(this.leftBtn).addClass(this.templData.leftClass).text(this.templData.leftName).attr("href",this.templData.leftLink),$(this.rightBtn).addClass(this.templData.rightClass).text(this.templData.rightName).attr("href",this.templData.rightLink),-1!==navigator.userAgent.indexOf("Firefox")?($(this.leftBtn).css("line-height","1.8"),$(this.rightBtn).css("line-height","1.8")):void 0},e.prototype.init=function(){return this.templData=this.setBlogs(),this.build()},e}(),window.StickEmUp=StickEmUp=function(){function e(e){this.el=e.el,this.offset=e.offset||0,this.absoluteAtEl=e.absoluteAtEl,this.absoluteAtClass=e.absoluteAtClass,this.absoluteAtOffset=e.absoluteAtOffset||0,this.breakpointMax=e.breakpointMax||!1}return e.prototype.sticky=!1,e.prototype.stickyAbs=!1,e.prototype.cachedOffset=0,e.prototype.cachedAbsoluteOffset=0,e.prototype.clearAll=function(){return this.stickEmDown(),this.sticky=!1,this.stickyAbs=!1,this.cachedOffset=0,this.cachedAbsoluteOffset=0},e.prototype.docOffset=function(){return $(document).scrollTop()},e.prototype.elOffset=function(){var e;return e=$(this.el).offset(),e.top-this.offset},e.prototype.absoluteElOffset=function(){var e;return e=$(this.absoluteAtEl).offset(),e.top},e.prototype.stickEmUp=function(){return this.sticky?void 0:($(this.el).addClass("stickEmUp"),this.sticky=!0)},e.prototype.stickEmDown=function(){return this.sticky?($(this.el).removeClass("stickEmUp"),this.sticky=!1):void 0},e.prototype.stickEmAbsolute=function(){return this.stickEmDown(),this.stickyAbs=!0},e.prototype.stickEmDownAbsolute=function(){return this.stickEmUp(),this.stickyAbs=!1},e.prototype.cachePositions=function(){var e;return this.cachedOffset=this.elOffset(),this.absoluteAtEl?(e=this,this.cachedAbsoluteOffset=this.absoluteElOffset()-this.absoluteAtOffset,$(window).load(function(){return e.cachedAbsoluteOffset=e.absoluteElOffset()-e.absoluteAtOffset})):void 0},e.prototype.checkPositions=function(){return $(window).width()<this.breakpointMax?void 0:(this.cachedOffset<0&&(this.clearAll(),this.cachePositions()),this.docOffset()>=this.cachedOffset&&(this.stickEmUp(),this.absoluteAtEl&&(this.docOffset()>=this.cachedAbsoluteOffset?this.stickEmAbsolute():this.stickEmDownAbsolute())),this.docOffset()<=this.cachedOffset?this.stickEmDown():void 0)},e.prototype.resizeCheck=function(){return this.checkPositions()},e.prototype.events=function(){var e;return e=this,$(window).scroll(function(){return e.checkPositions()}),$(window).resize(function(){return e.resizeCheck()})},e.prototype.init=function(){return this.events(),this.cachePositions(),this.checkPositions()},e}(),window.ResizeResponsively=ResizeResponsively=function(){function e(e){this.el=e.el,this.resizeAt=e.resizeAt,this.match=e.match}return e.prototype.matchedWidth=function(){return $(this.match).outerWidth()},e.prototype.setWidth=function(){var e;return e=this.matchedWidth(),$(window).width<768?$(this.el).width("100%"):$(this.el).width(e)},e.prototype.events=function(){var e;return e=this,$(window).on("resize",function(){return e.setWidth()})},e.prototype.init=function(){return this.events(),$(window).width()<this.resizeAt?this.setWidth():void 0},e}(),window.Scrollway=Scrollway=function(){function e(e){this.events(),this.callback=e}return e.prototype.setPosition=function(){return this.position=$(window).scrollTop()},e.prototype.getPosition=function(){return this.position},e.prototype.down=function(){var e,t;return e=this.getPosition(),t={direction:"down",position:e},this.callback(t)},e.prototype.up=function(){var e,t;return e=this.getPosition(),t={direction:"up",position:e},this.callback(t)},e.prototype.events=function(){var e,t;return t=this,e=0,$(window).on("touchmove, scroll",function(){return t.setPosition(),e<t.getPosition()?t.down():t.up(),e=t.getPosition()})},e}(),window.ImageSwap=ImageSwap=function(){function e(e){this.dataSrc=e.dataSrc}return e.prototype.setBackgroundImage=function(){return $(this.dataSrc).each(function(e,t){var i;return i=$(this).data("src"),void 0!==i?$(this).css("background-image","url("+i+")"):void 0;
})},e}(),window.HSBlog.Comments=Comments=function(){function e(){this.init()}return e.prototype.toggleComments=function(){return $(".comments-container").slideToggle(600)},e.prototype.successLoad=function(){return document.URL.indexOf("?success=true")>0?this.toggleComments():void 0},e.prototype.events=function(){var e;return e=this,this.successLoad(),$(".comments-toggle").click(function(){return e.toggleComments()})},e.prototype.init=function(){return this.events(),new CommentsStatus},e}(),CommentsStatus=function(){function e(e){this.init()}return e.prototype.closedMessage=".comment-count__closed",e.prototype.commentCount=".comment-count",e.prototype.checkStatus=function(){var e,t,i,o,s;return t=6048e5,i=$(this.commentCount).attr("data-postdate").trim().split(" ")[0],o=new Date(i).getTime(),s=(new Date).getTime(),e=Number(s)-Number(o),e>t?$(this.closedMessage).show():void 0},e.prototype.init=function(){return"agency"!==HSBlogConfig.blogName?this.checkStatus():void 0},e}(),$(function(){var e,t,i,o,s;return $("input, textarea").placeholder(),e=new HSBlog.BlogSearch({trigger:".header-tools__search-icon"}).init(),e=new HSBlog.BlogSearch({trigger:".header-mobile-tool__search"}).init(),(t=function(){var e;return e=function(e){var t;return t=$(e).offset().top,$("html, body").animate({scrollTop:t+"px"},600)},$(".footer-toggle").click(function(){return $(".footer-toggle__arrow").toggleClass("rotate-180"),$(".expandable-footer").slideToggle(0,function(){return e(".expandable-footer")})})})(),(o=function(){o=$("#slidebox"),o.length>0&&($(window).scroll(function(){var e;e=$("#last").offset().top-$(window).height(),$(window).scrollTop()>e?o.animate({right:"0px"},300):o.stop(!0).animate({right:"-430px"},100)}),$("#slidebox .close").on("click",function(){$(this).parent().remove()}))})(),(i=function(){return $("#v2Burger").on("touchend",function(){return $("html, body").animate({scrollTop:0},0)})})(),function(){$("#slidebox").length>0&&$("#slidebox iframe").attr("frameborder",0)}(),(s=function(){var e,t,i,o,s;if(o=[".rss-feed-single-wrapper",".blog-section","#primary-blog-content"],document.URL.indexOf("/topic/")>0){for(s=[],t=0,i=o.length;i>t;t++)e=o[t],s.push($(e).addClass("topics-listing"));return s}})()}),$(function(){var e,t,i,o,s;return new HS_RSS_Feed_Modify({type:"sidebar"}).init(),new HSBlog.BlogSubscribeEvents({el:"#header-tools-dropdown"}).init(),new HSBlog.BlogSubscribeEvents({el:"#toolbar-dropdown"}).init(),s={marketing:["agency","sales"],sales:["marketing","agency"],agency:["sales","marketing"]},o=s[window.HSBlogConfig.blogName],new HSBlog.Blog_Side_toggle({blogs:o}).init(),t=new HSBlog.BlogSearch(".search-all").init(),i=(new HSBlog.HS_RSS_Feed_Nav).init(),e=(new HSBlog.HS_Blog_Nav).updateList(),new ResizeResponsively({el:".rss-nav__blogs-dropdown",resizeAt:1080,match:".rss-nav"}).init(),new StickEmUp({el:".fixed-toolbar",offset:0,breakpointMax:767}).init(),new ModifySidebarMeta,Boomtrain.listenForLeadInSubmission()}),$(function(){var e,t,i,o;return i=function(e){return console.log(e)},e=function(e,t){return setTimeout(t,e)},o=(new HSBlog.Author_Info).getHandle(),new HSBlog.HS_Featured_Image({el:".content-post__body",imageClass:"post-body__featured-image"}).init(),new StickEmUp({el:".social-sharing-vertical__inner",offset:73,absoluteAtEl:".end-of-post-subscribe",absoluteAtOffset:800,absoluteAtClass:"sticky-freeze-bottom"}).init(),new HSBlog.Toggle_Selector_Click({selector:".comments-toggle",destination:".comments-arrow",toggleClass:"rotate-180"}).init(),(t=function(){var e,t;return t=$(".hubspot-topic_list"),t.length<1?!1:(e=t.html().trim(),e.length<1?$("#hubspot-topic_data").css("display","none"):void 0)})(),new HSBlog.Comments});