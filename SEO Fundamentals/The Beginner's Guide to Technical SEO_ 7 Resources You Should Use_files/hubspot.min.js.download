(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var snippetFactory=function(win,doc,history,nav){var dependencies={windowProvider:win,documentProvider:doc,historyProvider:history,navigatorProvider:nav};var frameConfig={frameId:"sm-frame",frameUrl:null,frameLoaded:false,frameObj:null,frameDomain:"*",clientTranslator:null};var messageQueue=[];var messageInfo={apiKey:null,referrer:null,origUrl:null,canonicalUrl:null,hashId:null,shareId:null,marketingProperties:null};var urlParams={utm_source:1,utm_medium:1,utm_campaign:1,utm_term:1,utm_content:1,gclid:1,gclsrc:1,tid:1,url:1,aid:1,idfa:1,cs:1,cm:1,cn:1,cc:1,ck:1,anid:1,hash:1,dl:1,dr:1,cs:1,cm:1,cn:1,cc:1,ck:1,dl:1,dr:1,src:1,cid:1,sc_mc:1,eVar:1,evar:1,sProp:1,sprop:1,"s.tl()":1,"s.tracklink()":1,"s.linkTrackVars":1,"s.linkTrackEvents":1,"s.prop1":1,"s.events":1,"s.linkTrackVars":1,cm_ven:1,cm_cat:1,cm_ite:1,cm_pla:1,cm_mmc:1,cm_sp:1,cm_re:1};var urlConfig={key:"sm.",urlSearch:null};var urlSearch;function browserSpecificConfiguration(){function stringifyMessageTranslator(objMessage){return JSON.stringify(objMessage)}if("withCredentials"in new dependencies.windowProvider.XMLHttpRequest){frameConfig.frameUrl="//sm-cdn.simplymeasured.com/httpclient/html5Client.html"}else if(dependencies.windowProvider.XDomainRequest&&dependencies.windowProvider.addEventListener){frameConfig.frameUrl="//sm-cdn.simplymeasured.com/httpclient/ie9Client.html";frameConfig.clientTranslator=stringifyMessageTranslator}else if(dependencies.windowProvider.XDomainRequest&&dependencies.windowProvider.attachEvent){frameConfig.frameUrl="//sm-cdn.simplymeasured.com/httpclient/ie8Client.html";frameConfig.clientTranslator=stringifyMessageTranslator}}function appendIframe(){if(frameConfig.frameUrl){frameConfig.frameObj=dependencies.documentProvider.getElementById(frameConfig.frameId);if(!frameConfig.frameObj){frameConfig.frameObj=dependencies.documentProvider.createElement("iframe");frameConfig.frameObj.id=frameConfig.frameId;frameConfig.frameObj.height="0";frameConfig.frameObj.width="0";frameConfig.frameObj.src=frameConfig.frameUrl;frameConfig.frameObj.style.display="none";dependencies.documentProvider.body.insertBefore(frameConfig.frameObj,dependencies.documentProvider.body.firstChild)}}}function urlFixup(){urlConfig.urlHash=dependencies.windowProvider.location.hash;urlConfig.urlSearch=dependencies.windowProvider.location.search;var invalidHashLocation=urlConfig.urlHash?urlConfig.urlHash.indexOf("?"):-1;if(invalidHashLocation===-1){invalidHashLocation=urlConfig.urlHash?urlConfig.urlHash.indexOf("&"):-1}if(invalidHashLocation!==-1){var invalidQuery=urlConfig.urlHash.substring(invalidHashLocation);urlConfig.urlHash=urlConfig.urlHash.substring(0,invalidHashLocation-1);if(!urlConfig.urlSearch){urlConfig.urlSearch=invalidQuery}else{invalidQuery[0]="&";urlConfig.urlSearch+=invalidQuery}}}function setUrl(){urlFixup();var stateObj={mod:"sm"};var path=dependencies.windowProvider.location.pathname;if(urlConfig.urlSearch){path+=urlConfig.urlSearch}if(dependencies.historyProvider&&dependencies.historyProvider.replaceState){history.replaceState(stateObj,"url",path+"#"+urlConfig.key+messageInfo.hashId)}else{dependencies.windowProvider.location.hash=urlConfig.key+messageInfo.hashId}}function gatheringMarketingProperties(search){var query=search.substr(1).split("&");var result={};for(var i=0;i<query.length;i++){var item=query[i].split("=");if(urlParams[item[0]]&&urlParams[item[0]]===1){result[item[0]]=decodeURIComponent(item[1])}}return result}function gatherData(){messageInfo.origUrl=dependencies.documentProvider.location.href;messageInfo.referrer=dependencies.documentProvider.referrer;messageInfo.marketingProperties=gatheringMarketingProperties(dependencies.windowProvider.location.search);urlConfig.urlHash=dependencies.documentProvider.location.hash;var linkObj=dependencies.documentProvider.head.querySelector("link[rel='canonical']");if(linkObj&&linkObj.href){messageInfo.canonicalUrl=linkObj.href}if(urlConfig.urlHash.indexOf(urlConfig.key)===1){var urlHashParts=urlConfig.urlHash.split(urlConfig.key);for(var i=0;i<urlHashParts[1].length;i++){if(!validHashChar(urlHashParts[1].charAt(i))){break}}messageInfo.shareId=urlHashParts[1].substr(0,i)}}function validHashChar(c){return c<="9"&&c>="0"||c>="a"&&c<="z"}function bodyReady(){if(dependencies.documentProvider.body){gatherData();appendIframe("sm-frame")}else{setTimeout(bodyReady,100)}}function jsonMerge(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function prepMessage(message){if(frameConfig.clientTranslator){return frameConfig.clientTranslator(message)}else{return message}}function sendQueuedMessages(){for(var iMessageQueue=0;iMessageQueue<messageQueue.length;iMessageQueue++){var message=messageQueue[iMessageQueue];message=prepMessage(message);frameConfig.frameObj.contentWindow.postMessage(message,frameConfig.frameDomain)}}function processMessage(e){var message=null;try{message=JSON.parse(e.data)}catch(e){}if(message&&message.name=="smFrameLoaded"){frameConfig.frameLoaded=true;win.smt.hashId=messageInfo.hashId=message.data.hashId;setUrl();dependencies.windowProvider.smt.sendMessage(101);sendQueuedMessages()}}function onbeforeunload(){dependencies.windowProvider.smt.sendMessage(102)}return{initClient:function(apiKey){messageInfo.apiKey=apiKey;browserSpecificConfiguration();if(dependencies.windowProvider.addEventListener){dependencies.windowProvider.addEventListener("message",processMessage);dependencies.windowProvider.addEventListener("beforeunload",onbeforeunload)}else{dependencies.windowProvider.attachEvent("onmessage",processMessage);dependencies.windowProvider.attachEvent("onbeforeunload",onbeforeunload)}bodyReady();dependencies.windowProvider.smt={sendMessage:function(event,params){if(frameConfig.frameObj&&messageInfo.apiKey){var marketingPropertiesKeys;var objMessage={event:event,originalUrl:messageInfo.origUrl,userAgent:dependencies.navigatorProvider.userAgent};if(messageInfo.canonicalUrl){objMessage.canonicalUrl=messageInfo.canonicalUrl}if(messageInfo.referrer){objMessage.referrer=messageInfo.referrer}if(messageInfo.shareId&&messageInfo.shareId!==messageInfo.hashId){objMessage.shareId=messageInfo.shareId}if(!Object.keys){var keys=[];for(var i in messageInfo.marketingProperties){if(messageInfo.marketingProperties.hasOwnProperty(i)){keys.push(i)}}marketingPropertiesKeys=keys}else{marketingPropertiesKeys=Object.keys(messageInfo.marketingProperties)}if(marketingPropertiesKeys.length>0&&JSON&&JSON.stringify){objMessage.marketingProperties=JSON.stringify(messageInfo.marketingProperties)}else{objMessage.marketingProperties=""}if(params){objMessage=jsonMerge(objMessage,params)}objMessage.apiKey=messageInfo.apiKey;objMessage=prepMessage(objMessage);if(frameConfig.frameLoaded){frameConfig.frameObj.contentWindow.postMessage(objMessage,frameConfig.frameDomain)}else{messageQueue.push(objMessage)}}}}}}};if(typeof module.exports!=="undefined"){module.exports=snippetFactory}},{}],2:[function(require,module,exports){var snippetFactory=require("../../core.js")(window,document,history,navigator,sessionStorage);snippetFactory.initClient("9e8b3612c8b44a07a33c3109abd7cf5b");var timeOutHelper=function(){if(document.body&&typeof window.jQuery==="function"){loadEvents()}else{setTimeout(timeOutHelper,200)}};setTimeout(timeOutHelper,200);function loadEvents(){var twitterMonitor=setInterval(function(){if($("#twitter-widget-0").length>0||$(".twitter-share-button").length>0&&window.attachEvent){clearInterval(twitterMonitor);if(window.addEventListener){updateTweetIFrame();var myConfObj={iframeMouseOver:false};window.addEventListener("blur",function(){if(myConfObj.iframeMouseOver){window.smt.sendMessage(205)}});$("#twitter-widget-0").mouseover(function(){myConfObj.iframeMouseOver=true});$("#twitter-widget-0").mouseout(function(){myConfObj.iframeMouseOver=false})}else if(window.attachEvent){$("body").on("click",".twitter-share-button",function(e){window.smt.sendMessage(205)})}}},100);var linkedInMonitor=setInterval(function(){var linkedinWidget=$(".social-sharing-vertical__inner .IN-widget").children().eq(2);if(linkedinWidget.length>0){clearInterval(linkedInMonitor);linkedinWidget.click(function(){window.smt.sendMessage(203)})}},100);var facebookLoadMonitor=setInterval(function(){if($(".social-sharing-vertical__inner").find("iframe").eq(1).length>0){clearInterval(facebookLoadMonitor);$(".social-sharing-vertical__inner").find("iframe").eq(1).prop("title","facebook_button");var facebookClickMonitor=setInterval(function(){var elem=document.activeElement;if(elem.title=="facebook_button"){clearInterval(facebookClickMonitor);window.smt.sendMessage(1e3)}},100)}},100)}function updateTweetIFrame(){var retweetFrame=$("#twitter-widget-0");var source=retweetFrame.attr("src");var userCode="#sm."+window.smt.hashId;retweetFrame.prop("src","");setTimeout(function(){retweetFrame.prop("src",source.replace("aspx&via","aspx"+userCode+"&via"))},0)}},{"../../core.js":1}]},{},[1,2]);